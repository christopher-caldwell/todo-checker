"use strict";var Yt=Object.create;var Ye=Object.defineProperty;var Qt=Object.getOwnPropertyDescriptor;var en=Object.getOwnPropertyNames;var tn=Object.getPrototypeOf,nn=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var rn=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of en(e))!nn.call(t,r)&&r!==n&&Ye(t,r,{get:()=>e[r],enumerable:!(o=Qt(e,r))||o.enumerable});return t};var be=(t,e,n)=>(n=t!=null?Yt(tn(t)):{},rn(e||!t||!t.__esModule?Ye(n,"default",{value:t,enumerable:!0}):n,t));var ne=E(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});(function(t){t.StartOfInput="\0",t.EndOfInput="",t.EndOfPartialInput=""})(I.SpecialToken||(I.SpecialToken={}));(function(t){t[t.InitialNode=0]="InitialNode",t[t.SuccessNode=1]="SuccessNode",t[t.ErrorNode=2]="ErrorNode",t[t.CustomNode=3]="CustomNode"})(I.NodeType||(I.NodeType={}));var on=-1,sn=/^(-h|--help)(?:=([0-9]+))?$/,an=/^(--[a-z]+(?:-[a-z]+)*|-[a-zA-Z]+)$/,un=/^-[a-zA-Z]{2,}$/,cn=/^([^=]+)=([\s\S]*)$/,ln=process.env.DEBUG_CLI==="1";I.BATCH_REGEX=un;I.BINDING_REGEX=cn;I.HELP_COMMAND_INDEX=on;I.HELP_REGEX=sn;I.IS_DEBUG=ln;I.OPTION_REGEX=an});var re=E(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});var Qe=ne(),ve=class extends Error{constructor(e){super(e),this.clipanion={type:"usage"},this.name="UsageError"}},Oe=class extends Error{constructor(e,n){if(super(),this.input=e,this.candidates=n,this.clipanion={type:"none"},this.name="UnknownSyntaxError",this.candidates.length===0)this.message="Command not found, but we're not sure what's the alternative.";else if(this.candidates.every(o=>o.reason!==null&&o.reason===n[0].reason)){let[{reason:o}]=this.candidates;this.message=`${o}

${this.candidates.map(({usage:r})=>`$ ${r}`).join(`
`)}`}else if(this.candidates.length===1){let[{usage:o}]=this.candidates;this.message=`Command not found; did you mean:

$ ${o}
${Ee(e)}`}else this.message=`Command not found; did you mean one of:

${this.candidates.map(({usage:o},r)=>`${`${r}.`.padStart(4)} ${o}`).join(`
`)}

${Ee(e)}`}},xe=class extends Error{constructor(e,n){super(),this.input=e,this.usages=n,this.clipanion={type:"none"},this.name="AmbiguousSyntaxError",this.message=`Cannot find which to pick amongst the following alternatives:

${this.usages.map((o,r)=>`${`${r}.`.padStart(4)} ${o}`).join(`
`)}

${Ee(e)}`}},Ee=t=>`While running ${t.filter(e=>e!==Qe.SpecialToken.EndOfInput&&e!==Qe.SpecialToken.EndOfPartialInput).map(e=>{let n=JSON.stringify(e);return e.match(/\s/)||e.length===0||n!==`"${e}"`?n:e}).join(" ")}`;J.AmbiguousSyntaxError=xe;J.UnknownSyntaxError=Oe;J.UsageError=ve});var $e=E(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var et=80,Ne=Array(et).fill("\u2501");for(let t=0;t<=24;++t)Ne[Ne.length-t]=`\x1B[38;5;${232+t}m\u2501`;var dn={header:t=>`\x1B[1m\u2501\u2501\u2501 ${t}${t.length<et-5?` ${Ne.slice(t.length+5).join("")}`:":"}\x1B[0m`,bold:t=>`\x1B[1m${t}\x1B[22m`,error:t=>`\x1B[31m\x1B[1m${t}\x1B[22m\x1B[39m`,code:t=>`\x1B[36m${t}\x1B[39m`},fn={header:t=>t,bold:t=>t,error:t=>t,code:t=>t};function pn(t){let e=t.split(`
`),n=e.filter(r=>r.match(/\S/)),o=n.length>0?n.reduce((r,i)=>Math.min(r,i.length-i.trimStart().length),Number.MAX_VALUE):0;return e.map(r=>r.slice(o).trimRight()).join(`
`)}function hn(t,{format:e,paragraphs:n}){return t=t.replace(/\r\n?/g,`
`),t=pn(t),t=t.replace(/^\n+|\n+$/g,""),t=t.replace(/^(\s*)-([^\n]*?)\n+/gm,`$1-$2

`),t=t.replace(/\n(\n)?\n*/g,(o,r)=>r||" "),n&&(t=t.split(/\n/).map(o=>{let r=o.match(/^\s*[*-][\t ]+(.*)/);if(!r)return o.match(/(.{1,80})(?: |$)/g).join(`
`);let i=o.length-o.trimStart().length;return r[1].match(new RegExp(`(.{1,${78-i}})(?: |$)`,"g")).map((s,a)=>" ".repeat(i)+(a===0?"- ":"  ")+s).join(`
`)}).join(`

`)),t=t.replace(/(`+)((?:.|[\n])*?)\1/g,(o,r,i)=>e.code(r+i+r)),t=t.replace(/(\*\*)((?:.|[\n])*?)\1/g,(o,r,i)=>e.bold(r+i+r)),t?`${t}
`:""}z.formatMarkdownish=hn;z.richFormat=dn;z.textFormat=fn});var D=E(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});var tt=re(),nt=Symbol("clipanion/isOption");function gn(t){return{...t,[nt]:!0}}function mn(t,e){return typeof t>"u"?[t,e]:typeof t=="object"&&t!==null&&!Array.isArray(t)?[void 0,t]:[t,e]}function _e(t,{mergeName:e=!1}={}){let n=t.match(/^([^:]+): (.*)$/m);if(!n)return"validation failed";let[,o,r]=n;return e&&(r=r[0].toLowerCase()+r.slice(1)),r=o!=="."||!e?`${o.replace(/^\.(\[|$)/,"$1")}: ${r}`:`: ${r}`,r}function rt(t,e){return e.length===1?new tt.UsageError(`${t}${_e(e[0],{mergeName:!0})}`):new tt.UsageError(`${t}:
${e.map(n=>`
- ${_e(n)}`).join("")}`)}function yn(t,e,n){if(typeof n>"u")return e;let o=[],r=[],i=a=>{let u=e;return e=a,i.bind(null,u)};if(!n(e,{errors:o,coercions:r,coercion:i}))throw rt(`Invalid value for ${t}`,o);for(let[,a]of r)a();return e}q.applyValidator=yn;q.cleanValidationError=_e;q.formatError=rt;q.isOptionSymbol=nt;q.makeCommandOption=gn;q.rerouteArguments=mn});var ke=E(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var bn=/^[a-zA-Z_][a-zA-Z0-9_]*$/;function O(t){return t===null?"null":t===void 0?"undefined":t===""?"an empty string":typeof t=="symbol"?`<${t.toString()}>`:Array.isArray(t)?"an array":JSON.stringify(t)}function G(t,e){if(t.length===0)return"nothing";if(t.length===1)return O(t[0]);let n=t.slice(0,-1),o=t[t.length-1],r=t.length>2?`, ${e} `:` ${e} `;return`${n.map(i=>O(i)).join(", ")}${r}${O(o)}`}function L(t,e){var n,o,r;return typeof e=="number"?`${(n=t==null?void 0:t.p)!==null&&n!==void 0?n:"."}[${e}]`:bn.test(e)?`${(o=t==null?void 0:t.p)!==null&&o!==void 0?o:""}.${e}`:`${(r=t==null?void 0:t.p)!==null&&r!==void 0?r:"."}[${JSON.stringify(e)}]`}function Se(t,e,n){return t===1?e:n}var vn=/^#[0-9a-f]{6}$/i,On=/^#[0-9a-f]{6}([0-9a-f]{2})?$/i,xn=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,En=/^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89aAbB][a-f0-9]{3}-[a-f0-9]{12}$/i,ot=/^(?:[1-9]\d{3}(-?)(?:(?:0[1-9]|1[0-2])\1(?:0[1-9]|1\d|2[0-8])|(?:0[13-9]|1[0-2])\1(?:29|30)|(?:0[13578]|1[02])(?:\1)31|00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[0-5]))|(?:[1-9]\d(?:0[48]|[2468][048]|[13579][26])|(?:[2468][048]|[13579][26])00)(?:(-?)02(?:\2)29|-?366))T(?:[01]\d|2[0-3])(:?)[0-5]\d(?:\3[0-5]\d)?(?:Z|[+-][01]\d(?:\3[0-5]\d)?)$/;function m({errors:t,p:e}={},n){return t==null||t.push(`${e??"."}: ${n}`),!1}function Nn(t,e){return n=>{t[e]=n}}function P(t,e){return n=>{let o=t[e];return t[e]=n,P(t,e).bind(null,o)}}function K(t,e,n){let o=()=>(t(n()),r),r=()=>(t(e),o);return o}function we(){return y({test:(t,e)=>!0})}function it(t){return y({test:(e,n)=>e!==t?m(n,`Expected ${O(t)} (got ${O(e)})`):!0})}function st(){return y({test:(t,e)=>typeof t!="string"?m(e,`Expected a string (got ${O(t)})`):!0})}function $n(t){let e=Array.isArray(t)?t:Object.values(t),n=e.every(r=>typeof r=="string"||typeof r=="number"),o=new Set(e);return o.size===1?it([...o][0]):y({test:(r,i)=>o.has(r)?!0:n?m(i,`Expected one of ${G(e,"or")} (got ${O(r)})`):m(i,`Expected a valid enumeration value (got ${O(r)})`)})}var _n=new Map([["true",!0],["True",!0],["1",!0],[1,!0],["false",!1],["False",!1],["0",!1],[0,!1]]);function Sn(){return y({test:(t,e)=>{var n;if(typeof t!="boolean"){if(typeof(e==null?void 0:e.coercions)<"u"){if(typeof(e==null?void 0:e.coercion)>"u")return m(e,"Unbound coercion result");let o=_n.get(t);if(typeof o<"u")return e.coercions.push([(n=e.p)!==null&&n!==void 0?n:".",e.coercion.bind(null,o)]),!0}return m(e,`Expected a boolean (got ${O(t)})`)}return!0}})}function wn(){return y({test:(t,e)=>{var n;if(typeof t!="number"){if(typeof(e==null?void 0:e.coercions)<"u"){if(typeof(e==null?void 0:e.coercion)>"u")return m(e,"Unbound coercion result");let o;if(typeof t=="string"){let r;try{r=JSON.parse(t)}catch{}if(typeof r=="number")if(JSON.stringify(r)===t)o=r;else return m(e,`Received a number that can't be safely represented by the runtime (${t})`)}if(typeof o<"u")return e.coercions.push([(n=e.p)!==null&&n!==void 0?n:".",e.coercion.bind(null,o)]),!0}return m(e,`Expected a number (got ${O(t)})`)}return!0}})}function kn(t){return y({test:(e,n)=>{var o;if(typeof(n==null?void 0:n.coercions)>"u")return m(n,"The isPayload predicate can only be used with coercion enabled");if(typeof n.coercion>"u")return m(n,"Unbound coercion result");if(typeof e!="string")return m(n,`Expected a string (got ${O(e)})`);let r;try{r=JSON.parse(e)}catch{return m(n,`Expected a JSON string (got ${O(e)})`)}let i={value:r};return t(r,Object.assign(Object.assign({},n),{coercion:P(i,"value")}))?(n.coercions.push([(o=n.p)!==null&&o!==void 0?o:".",n.coercion.bind(null,i.value)]),!0):!1}})}function Cn(){return y({test:(t,e)=>{var n;if(!(t instanceof Date)){if(typeof(e==null?void 0:e.coercions)<"u"){if(typeof(e==null?void 0:e.coercion)>"u")return m(e,"Unbound coercion result");let o;if(typeof t=="string"&&ot.test(t))o=new Date(t);else{let r;if(typeof t=="string"){let i;try{i=JSON.parse(t)}catch{}typeof i=="number"&&(r=i)}else typeof t=="number"&&(r=t);if(typeof r<"u")if(Number.isSafeInteger(r)||!Number.isSafeInteger(r*1e3))o=new Date(r*1e3);else return m(e,`Received a timestamp that can't be safely represented by the runtime (${t})`)}if(typeof o<"u")return e.coercions.push([(n=e.p)!==null&&n!==void 0?n:".",e.coercion.bind(null,o)]),!0}return m(e,`Expected a date (got ${O(t)})`)}return!0}})}function oe(t,{delimiter:e}={}){return y({test:(n,o)=>{var r;let i=n;if(typeof n=="string"&&typeof e<"u"&&typeof(o==null?void 0:o.coercions)<"u"){if(typeof(o==null?void 0:o.coercion)>"u")return m(o,"Unbound coercion result");n=n.split(e)}if(!Array.isArray(n))return m(o,`Expected an array (got ${O(n)})`);let s=!0;for(let a=0,u=n.length;a<u&&(s=t(n[a],Object.assign(Object.assign({},o),{p:L(o,a),coercion:P(n,a)}))&&s,!(!s&&(o==null?void 0:o.errors)==null));++a);return n!==i&&o.coercions.push([(r=o.p)!==null&&r!==void 0?r:".",o.coercion.bind(null,n)]),s}})}function In(t,{delimiter:e}={}){let n=oe(t,{delimiter:e});return y({test:(o,r)=>{var i,s;if(Object.getPrototypeOf(o).toString()==="[object Set]")if(typeof(r==null?void 0:r.coercions)<"u"){if(typeof(r==null?void 0:r.coercion)>"u")return m(r,"Unbound coercion result");let a=[...o],u=[...o];if(!n(u,Object.assign(Object.assign({},r),{coercion:void 0})))return!1;let c=()=>u.some((d,f)=>d!==a[f])?new Set(u):o;return r.coercions.push([(i=r.p)!==null&&i!==void 0?i:".",K(r.coercion,o,c)]),!0}else{let a=!0;for(let u of o)if(a=t(u,Object.assign({},r))&&a,!a&&(r==null?void 0:r.errors)==null)break;return a}if(typeof(r==null?void 0:r.coercions)<"u"){if(typeof(r==null?void 0:r.coercion)>"u")return m(r,"Unbound coercion result");let a={value:o};return n(o,Object.assign(Object.assign({},r),{coercion:P(a,"value")}))?(r.coercions.push([(s=r.p)!==null&&s!==void 0?s:".",K(r.coercion,o,()=>new Set(a.value))]),!0):!1}return m(r,`Expected a set (got ${O(o)})`)}})}function An(t,e){let n=oe(ie([t,e])),o=se(e,{keys:t});return y({test:(r,i)=>{var s,a,u;if(Object.getPrototypeOf(r).toString()==="[object Map]")if(typeof(i==null?void 0:i.coercions)<"u"){if(typeof(i==null?void 0:i.coercion)>"u")return m(i,"Unbound coercion result");let c=[...r],d=[...r];if(!n(d,Object.assign(Object.assign({},i),{coercion:void 0})))return!1;let f=()=>d.some((l,p)=>l[0]!==c[p][0]||l[1]!==c[p][1])?new Map(d):r;return i.coercions.push([(s=i.p)!==null&&s!==void 0?s:".",K(i.coercion,r,f)]),!0}else{let c=!0;for(let[d,f]of r)if(c=t(d,Object.assign({},i))&&c,!c&&(i==null?void 0:i.errors)==null||(c=e(f,Object.assign(Object.assign({},i),{p:L(i,d)}))&&c,!c&&(i==null?void 0:i.errors)==null))break;return c}if(typeof(i==null?void 0:i.coercions)<"u"){if(typeof(i==null?void 0:i.coercion)>"u")return m(i,"Unbound coercion result");let c={value:r};return Array.isArray(r)?n(r,Object.assign(Object.assign({},i),{coercion:void 0}))?(i.coercions.push([(a=i.p)!==null&&a!==void 0?a:".",K(i.coercion,r,()=>new Map(c.value))]),!0):!1:o(r,Object.assign(Object.assign({},i),{coercion:P(c,"value")}))?(i.coercions.push([(u=i.p)!==null&&u!==void 0?u:".",K(i.coercion,r,()=>new Map(Object.entries(c.value)))]),!0):!1}return m(i,`Expected a map (got ${O(r)})`)}})}function ie(t,{delimiter:e}={}){let n=ct(t.length);return y({test:(o,r)=>{var i;if(typeof o=="string"&&typeof e<"u"&&typeof(r==null?void 0:r.coercions)<"u"){if(typeof(r==null?void 0:r.coercion)>"u")return m(r,"Unbound coercion result");o=o.split(e),r.coercions.push([(i=r.p)!==null&&i!==void 0?i:".",r.coercion.bind(null,o)])}if(!Array.isArray(o))return m(r,`Expected a tuple (got ${O(o)})`);let s=n(o,Object.assign({},r));for(let a=0,u=o.length;a<u&&a<t.length&&(s=t[a](o[a],Object.assign(Object.assign({},r),{p:L(r,a),coercion:P(o,a)}))&&s,!(!s&&(r==null?void 0:r.errors)==null));++a);return s}})}function se(t,{keys:e=null}={}){let n=oe(ie([e??st(),t]));return y({test:(o,r)=>{var i;if(Array.isArray(o)&&typeof(r==null?void 0:r.coercions)<"u")return typeof(r==null?void 0:r.coercion)>"u"?m(r,"Unbound coercion result"):n(o,Object.assign(Object.assign({},r),{coercion:void 0}))?(o=Object.fromEntries(o),r.coercions.push([(i=r.p)!==null&&i!==void 0?i:".",r.coercion.bind(null,o)]),!0):!1;if(typeof o!="object"||o===null)return m(r,`Expected an object (got ${O(o)})`);let s=Object.keys(o),a=!0;for(let u=0,c=s.length;u<c&&(a||(r==null?void 0:r.errors)!=null);++u){let d=s[u],f=o[d];if(d==="__proto__"||d==="constructor"){a=m(Object.assign(Object.assign({},r),{p:L(r,d)}),"Unsafe property name");continue}if(e!==null&&!e(d,r)){a=!1;continue}if(!t(f,Object.assign(Object.assign({},r),{p:L(r,d),coercion:P(o,d)}))){a=!1;continue}}return a}})}function jn(t,e={}){return se(t,e)}function at(t,{extra:e=null}={}){let n=Object.keys(t),o=y({test:(r,i)=>{if(typeof r!="object"||r===null)return m(i,`Expected an object (got ${O(r)})`);let s=new Set([...n,...Object.keys(r)]),a={},u=!0;for(let c of s){if(c==="constructor"||c==="__proto__")u=m(Object.assign(Object.assign({},i),{p:L(i,c)}),"Unsafe property name");else{let d=Object.prototype.hasOwnProperty.call(t,c)?t[c]:void 0,f=Object.prototype.hasOwnProperty.call(r,c)?r[c]:void 0;typeof d<"u"?u=d(f,Object.assign(Object.assign({},i),{p:L(i,c),coercion:P(r,c)}))&&u:e===null?u=m(Object.assign(Object.assign({},i),{p:L(i,c)}),`Extraneous property (got ${O(f)})`):Object.defineProperty(a,c,{enumerable:!0,get:()=>f,set:Nn(r,c)})}if(!u&&(i==null?void 0:i.errors)==null)break}return e!==null&&(u||(i==null?void 0:i.errors)!=null)&&(u=e(a,i)&&u),u}});return Object.assign(o,{properties:t})}function Pn(t){return at(t,{extra:se(we())})}var Mn=t=>y({test:(e,n)=>e instanceof t?!0:m(n,`Expected an instance of ${t.name} (got ${O(e)})`)}),Tn=(t,{exclusive:e=!1}={})=>y({test:(n,o)=>{var r,i,s;let a=[],u=typeof(o==null?void 0:o.errors)<"u"?[]:void 0;for(let c=0,d=t.length;c<d;++c){let f=typeof(o==null?void 0:o.errors)<"u"?[]:void 0,l=typeof(o==null?void 0:o.coercions)<"u"?[]:void 0;if(t[c](n,Object.assign(Object.assign({},o),{errors:f,coercions:l,p:`${(r=o==null?void 0:o.p)!==null&&r!==void 0?r:"."}#${c+1}`}))){if(a.push([`#${c+1}`,l]),!e)break}else u==null||u.push(f[0])}if(a.length===1){let[,c]=a[0];return typeof c<"u"&&((i=o==null?void 0:o.coercions)===null||i===void 0||i.push(...c)),!0}return a.length>1?m(o,`Expected to match exactly a single predicate (matched ${a.join(", ")})`):(s=o==null?void 0:o.errors)===null||s===void 0||s.push(...u),!1}});function ut(t){return()=>t}function y({test:t}){return ut(t)()}var R=class extends Error{constructor({errors:e}={}){let n="Type mismatch";if(e&&e.length>0){n+=`
`;for(let o of e)n+=`
- ${o}`}super(n)}};function Dn(t,e){if(!e(t))throw new R}function qn(t,e){let n=[];if(!e(t,{errors:n}))throw new R({errors:n})}function Ln(t,e){}function Rn(t,e,{coerce:n=!1,errors:o,throw:r}={}){let i=o?[]:void 0;if(!n){if(e(t,{errors:i}))return r?t:{value:t,errors:void 0};if(r)throw new R({errors:i});return{value:void 0,errors:i??!0}}let s={value:t},a=P(s,"value"),u=[];if(!e(t,{errors:i,coercion:a,coercions:u})){if(r)throw new R({errors:i});return{value:void 0,errors:i??!0}}for(let[,c]of u)c();return r?s.value:{value:s.value,errors:void 0}}function Un(t,e){let n=ie(t);return(...o)=>{if(!n(o))throw new R;return e(...o)}}function Bn(t){return y({test:(e,n)=>e.length>=t?!0:m(n,`Expected to have a length of at least ${t} elements (got ${e.length})`)})}function Vn(t){return y({test:(e,n)=>e.length<=t?!0:m(n,`Expected to have a length of at most ${t} elements (got ${e.length})`)})}function ct(t){return y({test:(e,n)=>e.length!==t?m(n,`Expected to have a length of exactly ${t} elements (got ${e.length})`):!0})}function Gn({map:t}={}){return y({test:(e,n)=>{let o=new Set,r=new Set;for(let i=0,s=e.length;i<s;++i){let a=e[i],u=typeof t<"u"?t(a):a;if(o.has(u)){if(r.has(u))continue;m(n,`Expected to contain unique elements; got a duplicate with ${O(e)}`),r.add(u)}else o.add(u)}return r.size===0}})}function Hn(){return y({test:(t,e)=>t<=0?!0:m(e,`Expected to be negative (got ${t})`)})}function Fn(){return y({test:(t,e)=>t>=0?!0:m(e,`Expected to be positive (got ${t})`)})}function Xn(t){return y({test:(e,n)=>e>=t?!0:m(n,`Expected to be at least ${t} (got ${e})`)})}function Jn(t){return y({test:(e,n)=>e<=t?!0:m(n,`Expected to be at most ${t} (got ${e})`)})}function zn(t,e){return y({test:(n,o)=>n>=t&&n<=e?!0:m(o,`Expected to be in the [${t}; ${e}] range (got ${n})`)})}function Kn(t,e){return y({test:(n,o)=>n>=t&&n<e?!0:m(o,`Expected to be in the [${t}; ${e}[ range (got ${n})`)})}function Wn({unsafe:t=!1}={}){return y({test:(e,n)=>e!==Math.round(e)?m(n,`Expected to be an integer (got ${e})`):!t&&!Number.isSafeInteger(e)?m(n,`Expected to be a safe integer (got ${e})`):!0})}function Zn(t){return y({test:(e,n)=>t.test(e)?!0:m(n,`Expected to match the pattern ${t.toString()} (got ${O(e)})`)})}function Yn(){return y({test:(t,e)=>t!==t.toLowerCase()?m(e,`Expected to be all-lowercase (got ${t})`):!0})}function Qn(){return y({test:(t,e)=>t!==t.toUpperCase()?m(e,`Expected to be all-uppercase (got ${t})`):!0})}function er(){return y({test:(t,e)=>En.test(t)?!0:m(e,`Expected to be a valid UUID v4 (got ${O(t)})`)})}function tr(){return y({test:(t,e)=>ot.test(t)?!0:m(e,`Expected to be a valid ISO 8601 date string (got ${O(t)})`)})}function nr({alpha:t=!1}){return y({test:(e,n)=>(t?vn.test(e):On.test(e))?!0:m(n,`Expected to be a valid hexadecimal color string (got ${O(e)})`)})}function rr(){return y({test:(t,e)=>xn.test(t)?!0:m(e,`Expected to be a valid base 64 string (got ${O(t)})`)})}function or(t=we()){return y({test:(e,n)=>{let o;try{o=JSON.parse(e)}catch{return m(n,`Expected to be a valid JSON string (got ${O(e)})`)}return t(o,n)}})}function lt(t,...e){let n=Array.isArray(e[0])?e[0]:e;return y({test:(o,r)=>{var i,s;let a={value:o},u=typeof(r==null?void 0:r.coercions)<"u"?P(a,"value"):void 0,c=typeof(r==null?void 0:r.coercions)<"u"?[]:void 0;if(!t(o,Object.assign(Object.assign({},r),{coercion:u,coercions:c})))return!1;let d=[];if(typeof c<"u")for(let[,f]of c)d.push(f());try{if(typeof(r==null?void 0:r.coercions)<"u"){if(a.value!==o){if(typeof(r==null?void 0:r.coercion)>"u")return m(r,"Unbound coercion result");r.coercions.push([(i=r.p)!==null&&i!==void 0?i:".",r.coercion.bind(null,a.value)])}(s=r==null?void 0:r.coercions)===null||s===void 0||s.push(...c)}return n.every(f=>f(a.value,r))}finally{for(let f of d)f()}}})}function ir(t,...e){let n=Array.isArray(e[0])?e[0]:e;return lt(t,n)}function sr(t){return y({test:(e,n)=>typeof e>"u"?!0:t(e,n)})}function ar(t){return y({test:(e,n)=>e===null?!0:t(e,n)})}var W={missing:(t,e)=>t.has(e),undefined:(t,e,n)=>t.has(e)&&typeof n[e]<"u",nil:(t,e,n)=>t.has(e)&&n[e]!=null,falsy:(t,e,n)=>t.has(e)&&!!n[e]};function ur(t,e){var n;let o=new Set(t),r=W[(n=e==null?void 0:e.missingIf)!==null&&n!==void 0?n:"missing"];return y({test:(i,s)=>{let a=new Set(Object.keys(i)),u=[];for(let c of o)r(a,c,i)||u.push(c);return u.length>0?m(s,`Missing required ${Se(u.length,"property","properties")} ${G(u,"and")}`):!0}})}function cr(t,e){var n;let o=new Set(t),r=W[(n=e==null?void 0:e.missingIf)!==null&&n!==void 0?n:"missing"];return y({test:(i,s)=>Object.keys(i).some(c=>r(o,c,i))?!0:m(s,`Missing at least one property from ${G(Array.from(o),"or")}`)})}function lr(t,e){var n;let o=new Set(t),r=W[(n=e==null?void 0:e.missingIf)!==null&&n!==void 0?n:"missing"];return y({test:(i,s)=>{let a=new Set(Object.keys(i)),u=[];for(let c of o)r(a,c,i)&&u.push(c);return u.length>0?m(s,`Forbidden ${Se(u.length,"property","properties")} ${G(u,"and")}`):!0}})}function dr(t,e){var n;let o=new Set(t),r=W[(n=e==null?void 0:e.missingIf)!==null&&n!==void 0?n:"missing"];return y({test:(i,s)=>{let a=new Set(Object.keys(i)),u=[];for(let c of o)r(a,c,i)&&u.push(c);return u.length>1?m(s,`Mutually exclusive properties ${G(u,"and")}`):!0}})}(function(t){t.Forbids="Forbids",t.Requires="Requires"})(g.KeyRelationship||(g.KeyRelationship={}));var fr={[g.KeyRelationship.Forbids]:{expect:!1,message:"forbids using"},[g.KeyRelationship.Requires]:{expect:!0,message:"requires using"}};function pr(t,e,n,o){var r,i;let s=new Set((r=o==null?void 0:o.ignore)!==null&&r!==void 0?r:[]),a=W[(i=o==null?void 0:o.missingIf)!==null&&i!==void 0?i:"missing"],u=new Set(n),c=fr[e],d=e===g.KeyRelationship.Forbids?"or":"and";return y({test:(f,l)=>{let p=new Set(Object.keys(f));if(!a(p,t,f)||s.has(f[t]))return!0;let b=[];for(let v of u)(a(p,v,f)&&!s.has(f[v]))!==c.expect&&b.push(v);return b.length>=1?m(l,`Property "${t}" ${c.message} ${Se(b.length,"property","properties")} ${G(b,d)}`):!0}})}g.TypeAssertionError=R;g.applyCascade=ir;g.as=Rn;g.assert=Dn;g.assertWithErrors=qn;g.cascade=lt;g.fn=Un;g.hasAtLeastOneKey=cr;g.hasExactLength=ct;g.hasForbiddenKeys=lr;g.hasKeyRelationship=pr;g.hasMaxLength=Vn;g.hasMinLength=Bn;g.hasMutuallyExclusiveKeys=dr;g.hasRequiredKeys=ur;g.hasUniqueItems=Gn;g.isArray=oe;g.isAtLeast=Xn;g.isAtMost=Jn;g.isBase64=rr;g.isBoolean=Sn;g.isDate=Cn;g.isDict=jn;g.isEnum=$n;g.isHexColor=nr;g.isISO8601=tr;g.isInExclusiveRange=Kn;g.isInInclusiveRange=zn;g.isInstanceOf=Mn;g.isInteger=Wn;g.isJSON=or;g.isLiteral=it;g.isLowerCase=Yn;g.isMap=An;g.isNegative=Hn;g.isNullable=ar;g.isNumber=wn;g.isObject=at;g.isOneOf=Tn;g.isOptional=sr;g.isPartial=Pn;g.isPayload=kn;g.isPositive=Fn;g.isRecord=se;g.isSet=In;g.isString=st;g.isTuple=ie;g.isUUID4=er;g.isUnknown=we;g.isUpperCase=Qn;g.makeTrait=ut;g.makeValidator=y;g.matchesRegExp=Zn;g.softAssert=Ln});var U=E(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var dt=D();function hr(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(n){if(n!=="default"){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}}),e.default=t,Object.freeze(e)}var Z=class{constructor(){this.help=!1}static Usage(e){return e}async catch(e){throw e}async validateAndExecute(){let n=this.constructor.schema;if(Array.isArray(n)){let{isDict:r,isUnknown:i,applyCascade:s}=await Promise.resolve().then(function(){return hr(ke())}),a=s(r(i()),n),u=[],c=[];if(!a(this,{errors:u,coercions:c}))throw dt.formatError("Invalid option schema",u);for(let[,f]of c)f()}else if(n!=null)throw new Error("Invalid command schema");let o=await this.execute();return typeof o<"u"?o:0}};Z.isOption=dt.isOptionSymbol;Z.Default=[];Ce.Command=Z});var de=E(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});var h=ne(),ce=re();function S(t){h.IS_DEBUG&&console.log(t)}var ft={candidateUsage:null,requiredOptions:[],errorMessage:null,ignoreOptions:!1,path:[],positionals:[],options:[],remainder:null,selectedIndex:h.HELP_COMMAND_INDEX,partial:!1,tokens:[]};function Ae(){let t={nodes:[]};for(let e=0;e<h.NodeType.CustomNode;++e)t.nodes.push(w());return t}function pt(t){let e=Ae(),n=[],o=e.nodes.length;for(let r of t){n.push(o);for(let i=0;i<r.nodes.length;++i)je(i)||e.nodes.push(xt(r.nodes[i],o));o+=r.nodes.length-h.NodeType.CustomNode+1}for(let r of n)B(e,h.NodeType.InitialNode,r);return e}function A(t,e){return t.nodes.push(e),t.nodes.length-1}function ht(t){let e=new Set,n=o=>{if(e.has(o))return;e.add(o);let r=t.nodes[o];for(let s of Object.values(r.statics))for(let{to:a}of s)n(a);for(let[,{to:s}]of r.dynamics)n(s);for(let{to:s}of r.shortcuts)n(s);let i=new Set(r.shortcuts.map(({to:s})=>s));for(;r.shortcuts.length>0;){let{to:s}=r.shortcuts.shift(),a=t.nodes[s];for(let[u,c]of Object.entries(a.statics)){let d=Object.prototype.hasOwnProperty.call(r.statics,u)?r.statics[u]:r.statics[u]=[];for(let f of c)d.some(({to:l})=>f.to===l)||d.push(f)}for(let[u,c]of a.dynamics)r.dynamics.some(([d,{to:f}])=>u===d&&c.to===f)||r.dynamics.push([u,c]);for(let u of a.shortcuts)i.has(u.to)||(r.shortcuts.push(u),i.add(u.to))}};n(h.NodeType.InitialNode)}function gt(t,{prefix:e=""}={}){if(h.IS_DEBUG){S(`${e}Nodes are:`);for(let n=0;n<t.nodes.length;++n)S(`${e}  ${n}: ${JSON.stringify(t.nodes[n])}`)}}function mt(t,e,n=!1){S(`Running a vm on ${JSON.stringify(e)}`);let o=[{node:h.NodeType.InitialNode,state:{candidateUsage:null,requiredOptions:[],errorMessage:null,ignoreOptions:!1,options:[],path:[],positionals:[],remainder:null,selectedIndex:null,partial:!1,tokens:[]}}];gt(t,{prefix:"  "});let r=[h.SpecialToken.StartOfInput,...e];for(let i=0;i<r.length;++i){let s=r[i],a=s===h.SpecialToken.EndOfInput||s===h.SpecialToken.EndOfPartialInput,u=i-1;S(`  Processing ${JSON.stringify(s)}`);let c=[];for(let{node:d,state:f}of o){S(`    Current node is ${d}`);let l=t.nodes[d];if(d===h.NodeType.ErrorNode){c.push({node:d,state:f});continue}console.assert(l.shortcuts.length===0,"Shortcuts should have been eliminated by now");let p=Object.prototype.hasOwnProperty.call(l.statics,s);if(!n||i<r.length-1||p)if(p){let b=l.statics[s];for(let{to:v,reducer:$}of b)c.push({node:v,state:typeof $<"u"?Y(ue,$,f,s,u):f}),S(`      Static transition to ${v} found`)}else S("      No static transition found");else{let b=!1;for(let v of Object.keys(l.statics))if(v.startsWith(s)){if(s===v)for(let{to:$,reducer:te}of l.statics[v])c.push({node:$,state:typeof te<"u"?Y(ue,te,f,s,u):f}),S(`      Static transition to ${$} found`);else for(let{to:$}of l.statics[v])c.push({node:$,state:{...f,remainder:v.slice(s.length)}}),S(`      Static transition to ${$} found (partial match)`);b=!0}b||S("      No partial static transition found")}if(!a)for(let[b,{to:v,reducer:$}]of l.dynamics)Y(Et,b,f,s,u)&&(c.push({node:v,state:typeof $<"u"?Y(ue,$,f,s,u):f}),S(`      Dynamic transition to ${v} found (via ${b})`))}if(c.length===0&&a&&e.length===1)return[{node:h.NodeType.InitialNode,state:ft}];if(c.length===0)throw new ce.UnknownSyntaxError(e,o.filter(({node:d})=>d!==h.NodeType.ErrorNode).map(({state:d})=>({usage:d.candidateUsage,reason:null})));if(c.every(({node:d})=>d===h.NodeType.ErrorNode))throw new ce.UnknownSyntaxError(e,c.map(({state:d})=>({usage:d.candidateUsage,reason:d.errorMessage})));o=yt(c)}if(o.length>0){S("  Results:");for(let i of o)S(`    - ${i.node} -> ${JSON.stringify(i.state)}`)}else S("  No results");return o}function gr(t,e,{endToken:n=h.SpecialToken.EndOfInput}={}){let o=mt(t,[...e,n]);return bt(e,o.map(({state:r})=>r))}function yt(t){let e=0;for(let{state:n}of t)n.path.length>e&&(e=n.path.length);return t.filter(({state:n})=>n.path.length===e)}function bt(t,e){let n=e.filter(l=>l.selectedIndex!==null),o=n.filter(l=>!l.partial);if(o.length>0&&(n=o),n.length===0)throw new Error;let r=n.filter(l=>l.selectedIndex===h.HELP_COMMAND_INDEX||l.requiredOptions.every(p=>p.some(b=>l.options.find(v=>v.name===b))));if(r.length===0)throw new ce.UnknownSyntaxError(t,n.map(l=>({usage:l.candidateUsage,reason:null})));let i=0;for(let l of r)l.path.length>i&&(i=l.path.length);let s=r.filter(l=>l.path.length===i),a=l=>l.positionals.filter(({extra:p})=>!p).length+l.options.length,u=s.map(l=>({state:l,positionalCount:a(l)})),c=0;for(let{positionalCount:l}of u)l>c&&(c=l);let d=u.filter(({positionalCount:l})=>l===c).map(({state:l})=>l),f=vt(d);if(f.length>1)throw new ce.AmbiguousSyntaxError(t,f.map(l=>l.candidateUsage));return f[0]}function vt(t){let e=[],n=[];for(let o of t)o.selectedIndex===h.HELP_COMMAND_INDEX?n.push(o):e.push(o);return n.length>0&&e.push({...ft,path:Ot(...n.map(o=>o.path)),options:n.reduce((o,r)=>o.concat(r.options),[])}),e}function Ot(t,e,...n){return e===void 0?Array.from(t):Ot(t.filter((o,r)=>o===e[r]),...n)}function w(){return{dynamics:[],shortcuts:[],statics:{}}}function je(t){return t===h.NodeType.SuccessNode||t===h.NodeType.ErrorNode}function ae(t,e=0){return{to:je(t.to)?t.to:t.to>=h.NodeType.CustomNode?t.to+e-h.NodeType.CustomNode+1:t.to+e,reducer:t.reducer}}function xt(t,e=0){let n=w();for(let[o,r]of t.dynamics)n.dynamics.push([o,ae(r,e)]);for(let o of t.shortcuts)n.shortcuts.push(ae(o,e));for(let[o,r]of Object.entries(t.statics))n.statics[o]=r.map(i=>ae(i,e));return n}function N(t,e,n,o,r){t.nodes[e].dynamics.push([n,{to:o,reducer:r}])}function B(t,e,n,o){t.nodes[e].shortcuts.push({to:n,reducer:o})}function _(t,e,n,o,r){(Object.prototype.hasOwnProperty.call(t.nodes[e].statics,n)?t.nodes[e].statics[n]:t.nodes[e].statics[n]=[]).push({to:o,reducer:r})}function Y(t,e,n,o,r){if(Array.isArray(e)){let[i,...s]=e;return t[i](n,o,r,...s)}else return t[e](n,o,r)}var Et={always:()=>!0,isOptionLike:(t,e)=>!t.ignoreOptions&&e!=="-"&&e.startsWith("-"),isNotOptionLike:(t,e)=>t.ignoreOptions||e==="-"||!e.startsWith("-"),isOption:(t,e,n,o)=>!t.ignoreOptions&&e===o,isBatchOption:(t,e,n,o)=>!t.ignoreOptions&&h.BATCH_REGEX.test(e)&&[...e.slice(1)].every(r=>o.has(`-${r}`)),isBoundOption:(t,e,n,o,r)=>{let i=e.match(h.BINDING_REGEX);return!t.ignoreOptions&&!!i&&h.OPTION_REGEX.test(i[1])&&o.has(i[1])&&r.filter(s=>s.nameSet.includes(i[1])).every(s=>s.allowBinding)},isNegatedOption:(t,e,n,o)=>!t.ignoreOptions&&e===`--no-${o.slice(2)}`,isHelp:(t,e)=>!t.ignoreOptions&&h.HELP_REGEX.test(e),isUnsupportedOption:(t,e,n,o)=>!t.ignoreOptions&&e.startsWith("-")&&h.OPTION_REGEX.test(e)&&!o.has(e),isInvalidOption:(t,e)=>!t.ignoreOptions&&e.startsWith("-")&&!h.OPTION_REGEX.test(e)},ue={setCandidateState:(t,e,n,o)=>({...t,...o}),setSelectedIndex:(t,e,n,o)=>({...t,selectedIndex:o}),setPartialIndex:(t,e,n,o)=>({...t,selectedIndex:o,partial:!0}),pushBatch:(t,e,n,o)=>{let r=t.options.slice(),i=t.tokens.slice();for(let s=1;s<e.length;++s){let a=o.get(`-${e[s]}`),u=s===1?[0,2]:[s,s+1];r.push({name:a,value:!0}),i.push({segmentIndex:n,type:"option",option:a,slice:u})}return{...t,options:r,tokens:i}},pushBound:(t,e,n)=>{let[,o,r]=e.match(h.BINDING_REGEX),i=t.options.concat({name:o,value:r}),s=t.tokens.concat([{segmentIndex:n,type:"option",slice:[0,o.length],option:o},{segmentIndex:n,type:"assign",slice:[o.length,o.length+1]},{segmentIndex:n,type:"value",slice:[o.length+1,o.length+r.length+1]}]);return{...t,options:i,tokens:s}},pushPath:(t,e,n)=>{let o=t.path.concat(e),r=t.tokens.concat({segmentIndex:n,type:"path"});return{...t,path:o,tokens:r}},pushPositional:(t,e,n)=>{let o=t.positionals.concat({value:e,extra:!1}),r=t.tokens.concat({segmentIndex:n,type:"positional"});return{...t,positionals:o,tokens:r}},pushExtra:(t,e,n)=>{let o=t.positionals.concat({value:e,extra:!0}),r=t.tokens.concat({segmentIndex:n,type:"positional"});return{...t,positionals:o,tokens:r}},pushExtraNoLimits:(t,e,n)=>{let o=t.positionals.concat({value:e,extra:M}),r=t.tokens.concat({segmentIndex:n,type:"positional"});return{...t,positionals:o,tokens:r}},pushTrue:(t,e,n,o)=>{let r=t.options.concat({name:o,value:!0}),i=t.tokens.concat({segmentIndex:n,type:"option",option:o});return{...t,options:r,tokens:i}},pushFalse:(t,e,n,o)=>{let r=t.options.concat({name:o,value:!1}),i=t.tokens.concat({segmentIndex:n,type:"option",option:o});return{...t,options:r,tokens:i}},pushUndefined:(t,e,n,o)=>{let r=t.options.concat({name:e,value:void 0}),i=t.tokens.concat({segmentIndex:n,type:"option",option:e});return{...t,options:r,tokens:i}},pushStringValue:(t,e,n)=>{var o;let r=t.options[t.options.length-1],i=t.options.slice(),s=t.tokens.concat({segmentIndex:n,type:"value"});return r.value=((o=r.value)!==null&&o!==void 0?o:[]).concat([e]),{...t,options:i,tokens:s}},setStringValue:(t,e,n)=>{let o=t.options[t.options.length-1],r=t.options.slice(),i=t.tokens.concat({segmentIndex:n,type:"value"});return o.value=e,{...t,options:r,tokens:i}},inhibateOptions:t=>({...t,ignoreOptions:!0}),useHelp:(t,e,n,o)=>{let[,,r]=e.match(h.HELP_REGEX);return typeof r<"u"?{...t,options:[{name:"-c",value:String(o)},{name:"-i",value:r}]}:{...t,options:[{name:"-c",value:String(o)}]}},setError:(t,e,n,o)=>e===h.SpecialToken.EndOfInput||e===h.SpecialToken.EndOfPartialInput?{...t,errorMessage:`${o}.`}:{...t,errorMessage:`${o} ("${e}").`},setOptionArityError:(t,e)=>{let n=t.options[t.options.length-1];return{...t,errorMessage:`Not enough arguments to option ${n.name}.`}}},M=Symbol(),le=class{constructor(e,n){this.allOptionNames=new Map,this.arity={leading:[],trailing:[],extra:[],proxy:!1},this.options=[],this.paths=[],this.cliIndex=e,this.cliOpts=n}addPath(e){this.paths.push(e)}setArity({leading:e=this.arity.leading,trailing:n=this.arity.trailing,extra:o=this.arity.extra,proxy:r=this.arity.proxy}){Object.assign(this.arity,{leading:e,trailing:n,extra:o,proxy:r})}addPositional({name:e="arg",required:n=!0}={}){if(!n&&this.arity.extra===M)throw new Error("Optional parameters cannot be declared when using .rest() or .proxy()");if(!n&&this.arity.trailing.length>0)throw new Error("Optional parameters cannot be declared after the required trailing positional arguments");!n&&this.arity.extra!==M?this.arity.extra.push(e):this.arity.extra!==M&&this.arity.extra.length===0?this.arity.leading.push(e):this.arity.trailing.push(e)}addRest({name:e="arg",required:n=0}={}){if(this.arity.extra===M)throw new Error("Infinite lists cannot be declared multiple times in the same command");if(this.arity.trailing.length>0)throw new Error("Infinite lists cannot be declared after the required trailing positional arguments");for(let o=0;o<n;++o)this.addPositional({name:e});this.arity.extra=M}addProxy({required:e=0}={}){this.addRest({required:e}),this.arity.proxy=!0}addOption({names:e,description:n,arity:o=0,hidden:r=!1,required:i=!1,allowBinding:s=!0}){if(!s&&o>1)throw new Error("The arity cannot be higher than 1 when the option only supports the --arg=value syntax");if(!Number.isInteger(o))throw new Error(`The arity must be an integer, got ${o}`);if(o<0)throw new Error(`The arity must be positive, got ${o}`);let a=e.reduce((u,c)=>c.length>u.length?c:u,"");for(let u of e)this.allOptionNames.set(u,a);this.options.push({preferredName:a,nameSet:e,description:n,arity:o,hidden:r,required:i,allowBinding:s})}setContext(e){this.context=e}usage({detailed:e=!0,inlineOptions:n=!0}={}){let o=[this.cliOpts.binaryName],r=[];if(this.paths.length>0&&o.push(...this.paths[0]),e){for(let{preferredName:s,nameSet:a,arity:u,hidden:c,description:d,required:f}of this.options){if(c)continue;let l=[];for(let b=0;b<u;++b)l.push(` #${b}`);let p=`${a.join(",")}${l.join("")}`;!n&&d?r.push({preferredName:s,nameSet:a,definition:p,description:d,required:f}):o.push(f?`<${p}>`:`[${p}]`)}o.push(...this.arity.leading.map(s=>`<${s}>`)),this.arity.extra===M?o.push("..."):o.push(...this.arity.extra.map(s=>`[${s}]`)),o.push(...this.arity.trailing.map(s=>`<${s}>`))}return{usage:o.join(" "),options:r}}compile(){if(typeof this.context>"u")throw new Error("Assertion failed: No context attached");let e=Ae(),n=h.NodeType.InitialNode,o=this.usage().usage,r=this.options.filter(a=>a.required).map(a=>a.nameSet);n=A(e,w()),_(e,h.NodeType.InitialNode,h.SpecialToken.StartOfInput,n,["setCandidateState",{candidateUsage:o,requiredOptions:r}]);let i=this.arity.proxy?"always":"isNotOptionLike",s=this.paths.length>0?this.paths:[[]];for(let a of s){let u=n;if(a.length>0){let l=A(e,w());B(e,u,l),this.registerOptions(e,l),u=l}for(let l=0;l<a.length;++l){let p=A(e,w());_(e,u,a[l],p,"pushPath"),u=p}if(this.arity.leading.length>0||!this.arity.proxy){let l=A(e,w());N(e,u,"isHelp",l,["useHelp",this.cliIndex]),N(e,l,"always",l,"pushExtra"),_(e,l,h.SpecialToken.EndOfInput,h.NodeType.SuccessNode,["setSelectedIndex",h.HELP_COMMAND_INDEX]),this.registerOptions(e,u)}this.arity.leading.length>0&&(_(e,u,h.SpecialToken.EndOfInput,h.NodeType.ErrorNode,["setError","Not enough positional arguments"]),_(e,u,h.SpecialToken.EndOfPartialInput,h.NodeType.SuccessNode,["setPartialIndex",this.cliIndex]));let c=u;for(let l=0;l<this.arity.leading.length;++l){let p=A(e,w());(!this.arity.proxy||l+1!==this.arity.leading.length)&&this.registerOptions(e,p),(this.arity.trailing.length>0||l+1!==this.arity.leading.length)&&(_(e,p,h.SpecialToken.EndOfInput,h.NodeType.ErrorNode,["setError","Not enough positional arguments"]),_(e,p,h.SpecialToken.EndOfPartialInput,h.NodeType.SuccessNode,["setPartialIndex",this.cliIndex])),N(e,c,"isNotOptionLike",p,"pushPositional"),c=p}let d=c;if(this.arity.extra===M||this.arity.extra.length>0){let l=A(e,w());if(B(e,c,l),this.arity.extra===M){let p=A(e,w());this.arity.proxy||this.registerOptions(e,p),N(e,c,i,p,"pushExtraNoLimits"),N(e,p,i,p,"pushExtraNoLimits"),B(e,p,l)}else for(let p=0;p<this.arity.extra.length;++p){let b=A(e,w());(!this.arity.proxy||p>0)&&this.registerOptions(e,b),N(e,d,i,b,"pushExtra"),B(e,b,l),d=b}d=l}this.arity.trailing.length>0&&(_(e,d,h.SpecialToken.EndOfInput,h.NodeType.ErrorNode,["setError","Not enough positional arguments"]),_(e,d,h.SpecialToken.EndOfPartialInput,h.NodeType.SuccessNode,["setPartialIndex",this.cliIndex]));let f=d;for(let l=0;l<this.arity.trailing.length;++l){let p=A(e,w());this.arity.proxy||this.registerOptions(e,p),l+1<this.arity.trailing.length&&(_(e,p,h.SpecialToken.EndOfInput,h.NodeType.ErrorNode,["setError","Not enough positional arguments"]),_(e,p,h.SpecialToken.EndOfPartialInput,h.NodeType.SuccessNode,["setPartialIndex",this.cliIndex])),N(e,f,"isNotOptionLike",p,"pushPositional"),f=p}N(e,f,i,h.NodeType.ErrorNode,["setError","Extraneous positional argument"]),_(e,f,h.SpecialToken.EndOfInput,h.NodeType.SuccessNode,["setSelectedIndex",this.cliIndex]),_(e,f,h.SpecialToken.EndOfPartialInput,h.NodeType.SuccessNode,["setSelectedIndex",this.cliIndex])}return{machine:e,context:this.context}}registerOptions(e,n){N(e,n,["isOption","--"],n,"inhibateOptions"),N(e,n,["isBatchOption",this.allOptionNames],n,["pushBatch",this.allOptionNames]),N(e,n,["isBoundOption",this.allOptionNames,this.options],n,"pushBound"),N(e,n,["isUnsupportedOption",this.allOptionNames],h.NodeType.ErrorNode,["setError","Unsupported option name"]),N(e,n,["isInvalidOption"],h.NodeType.ErrorNode,["setError","Invalid option name"]);for(let o of this.options)if(o.arity===0)for(let r of o.nameSet)N(e,n,["isOption",r],n,["pushTrue",o.preferredName]),r.startsWith("--")&&!r.startsWith("--no-")&&N(e,n,["isNegatedOption",r],n,["pushFalse",o.preferredName]);else{let r=A(e,w());for(let i of o.nameSet)N(e,n,["isOption",i],r,["pushUndefined",o.preferredName]);for(let i=0;i<o.arity;++i){let s=A(e,w());_(e,r,h.SpecialToken.EndOfInput,h.NodeType.ErrorNode,"setOptionArityError"),_(e,r,h.SpecialToken.EndOfPartialInput,h.NodeType.ErrorNode,"setOptionArityError"),N(e,r,"isOptionLike",h.NodeType.ErrorNode,"setOptionArityError");let a=o.arity===1?"setStringValue":"pushStringValue";N(e,r,"isNotOptionLike",s,a),r=s}B(e,r,n)}}},Ie=class t{constructor({binaryName:e="..."}={}){this.builders=[],this.opts={binaryName:e}}static build(e,n={}){return new t(n).commands(e).compile()}getBuilderByIndex(e){if(!(e>=0&&e<this.builders.length))throw new Error(`Assertion failed: Out-of-bound command index (${e})`);return this.builders[e]}commands(e){for(let n of e)n(this.command());return this}command(){let e=new le(this.builders.length,this.opts);return this.builders.push(e),e}compile(){let e=[],n=[];for(let r of this.builders){let{machine:i,context:s}=r.compile();e.push(i),n.push(s)}let o=pt(e);return ht(o),{machine:o,contexts:n,process:(r,{partial:i}={})=>{let s=i?h.SpecialToken.EndOfPartialInput:h.SpecialToken.EndOfInput;return gr(o,r,{endToken:s})}}}};x.CliBuilder=Ie;x.CommandBuilder=le;x.NoLimits=M;x.aggregateHelpStates=vt;x.cloneNode=xt;x.cloneTransition=ae;x.debug=S;x.debugMachine=gt;x.execute=Y;x.injectNode=A;x.isTerminalNode=je;x.makeAnyOfMachine=pt;x.makeNode=w;x.makeStateMachine=Ae;x.reducers=ue;x.registerDynamic=N;x.registerShortcut=B;x.registerStatic=_;x.runMachineInternal=mt;x.selectBestState=bt;x.simplifyMachine=ht;x.tests=Et;x.trimSmallerBranches=yt});var $t=E(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});var mr=require("tty");function yr(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Pe=yr(mr);function br(){return Pe.default&&"getColorDepth"in Pe.default.WriteStream.prototype?Pe.default.WriteStream.prototype.getColorDepth():process.env.FORCE_COLOR==="0"?1:process.env.FORCE_COLOR==="1"||typeof process.stdout<"u"&&process.stdout.isTTY?8:1}var Nt;function vr(t){let e=Nt;if(typeof e>"u"){if(t.stdout===process.stdout&&t.stderr===process.stderr)return null;let{AsyncLocalStorage:n}=require("async_hooks");e=Nt=new n;let o=process.stdout._write;process.stdout._write=function(i,s,a){let u=e.getStore();return typeof u>"u"?o.call(this,i,s,a):u.stdout.write(i,s,a)};let r=process.stderr._write;process.stderr._write=function(i,s,a){let u=e.getStore();return typeof u>"u"?r.call(this,i,s,a):u.stderr.write(i,s,a)}}return n=>e.run(t,n)}fe.getCaptureActivator=vr;fe.getDefaultColorDepth=br});var _t=E(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});var Or=U(),Me=class t extends Or.Command{constructor(e){super(),this.contexts=e,this.commands=[]}static from(e,n){let o=new t(n);o.path=e.path;for(let r of e.options)switch(r.name){case"-c":o.commands.push(Number(r.value));break;case"-i":o.index=Number(r.value);break}return o}async execute(){let e=this.commands;if(typeof this.index<"u"&&this.index>=0&&this.index<e.length&&(e=[e[this.index]]),e.length===0)this.context.stdout.write(this.cli.usage());else if(e.length===1)this.context.stdout.write(this.cli.usage(this.contexts[e[0]].commandClass,{detailed:!0}));else if(e.length>1){this.context.stdout.write(`Multiple commands match your selection:
`),this.context.stdout.write(`
`);let n=0;for(let o of this.commands)this.context.stdout.write(this.cli.usage(this.contexts[o].commandClass,{prefix:`${n++}. `.padStart(5)}));this.context.stdout.write(`
`),this.context.stdout.write(`Run again with -h=<index> to see the longer details of any of those commands.
`)}}};Te.HelpCommand=Me});var It=E(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var xr=ne(),Er=de(),C=$e(),kt=$t(),pe=U(),Nr=_t(),St=Symbol("clipanion/errorCommand");async function $r(...t){let{resolvedOptions:e,resolvedCommandClasses:n,resolvedArgv:o,resolvedContext:r}=Ct(t);return H.from(n,e).runExit(o,r)}async function _r(...t){let{resolvedOptions:e,resolvedCommandClasses:n,resolvedArgv:o,resolvedContext:r}=Ct(t);return H.from(n,e).run(o,r)}function Ct(t){let e,n,o,r;switch(typeof process<"u"&&typeof process.argv<"u"&&(o=process.argv.slice(2)),t.length){case 1:n=t[0];break;case 2:t[0]&&t[0].prototype instanceof pe.Command||Array.isArray(t[0])?(n=t[0],Array.isArray(t[1])?o=t[1]:r=t[1]):(e=t[0],n=t[1]);break;case 3:Array.isArray(t[2])?(e=t[0],n=t[1],o=t[2]):t[0]&&t[0].prototype instanceof pe.Command||Array.isArray(t[0])?(n=t[0],o=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2]);break;default:e=t[0],n=t[1],o=t[2],r=t[3];break}if(typeof o>"u")throw new Error("The argv parameter must be provided when running Clipanion outside of a Node context");return{resolvedOptions:e,resolvedCommandClasses:n,resolvedArgv:o,resolvedContext:r}}var H=class t{constructor({binaryLabel:e,binaryName:n="...",binaryVersion:o,enableCapture:r=!1,enableColors:i}={}){this.registrations=new Map,this.builder=new Er.CliBuilder({binaryName:n}),this.binaryLabel=e,this.binaryName=n,this.binaryVersion=o,this.enableCapture=r,this.enableColors=i}static from(e,n={}){let o=new t(n),r=Array.isArray(e)?e:[e];for(let i of r)o.register(i);return o}register(e){var n;let o=new Map,r=new e;for(let u in r){let c=r[u];typeof c=="object"&&c!==null&&c[pe.Command.isOption]&&o.set(u,c)}let i=this.builder.command(),s=i.cliIndex,a=(n=e.paths)!==null&&n!==void 0?n:r.paths;if(typeof a<"u")for(let u of a)i.addPath(u);this.registrations.set(e,{specs:o,builder:i,index:s});for(let[u,{definition:c}]of o.entries())c(i,u);i.setContext({commandClass:e})}process(e,n){let{input:o,context:r,partial:i}=typeof e=="object"&&Array.isArray(e)?{input:e,context:n}:e,{contexts:s,process:a}=this.builder.compile(),u=a(o,{partial:i}),c={...t.defaultContext,...r};switch(u.selectedIndex){case xr.HELP_COMMAND_INDEX:{let d=Nr.HelpCommand.from(u,s);return d.context=c,d.tokens=u.tokens,d}default:{let{commandClass:d}=s[u.selectedIndex],f=this.registrations.get(d);if(typeof f>"u")throw new Error("Assertion failed: Expected the command class to have been registered.");let l=new d;l.context=c,l.tokens=u.tokens,l.path=u.path;try{for(let[p,{transformer:b}]of f.specs.entries())l[p]=b(f.builder,p,u,c);return l}catch(p){throw p[St]=l,p}}break}}async run(e,n){var o,r;let i,s={...t.defaultContext,...n},a=(o=this.enableColors)!==null&&o!==void 0?o:s.colorDepth>1;if(!Array.isArray(e))i=e;else try{i=this.process(e,s)}catch(d){return s.stdout.write(this.error(d,{colored:a})),1}if(i.help)return s.stdout.write(this.usage(i,{colored:a,detailed:!0})),0;i.context=s,i.cli={binaryLabel:this.binaryLabel,binaryName:this.binaryName,binaryVersion:this.binaryVersion,enableCapture:this.enableCapture,enableColors:this.enableColors,definitions:()=>this.definitions(),definition:d=>this.definition(d),error:(d,f)=>this.error(d,f),format:d=>this.format(d),process:(d,f)=>this.process(d,{...s,...f}),run:(d,f)=>this.run(d,{...s,...f}),usage:(d,f)=>this.usage(d,f)};let u=this.enableCapture&&(r=kt.getCaptureActivator(s))!==null&&r!==void 0?r:wt,c;try{c=await u(()=>i.validateAndExecute().catch(d=>i.catch(d).then(()=>0)))}catch(d){return s.stdout.write(this.error(d,{colored:a,command:i})),1}return c}async runExit(e,n){process.exitCode=await this.run(e,n)}definition(e,{colored:n=!1}={}){if(!e.usage)return null;let{usage:o}=this.getUsageByRegistration(e,{detailed:!1}),{usage:r,options:i}=this.getUsageByRegistration(e,{detailed:!0,inlineOptions:!1}),s=typeof e.usage.category<"u"?C.formatMarkdownish(e.usage.category,{format:this.format(n),paragraphs:!1}):void 0,a=typeof e.usage.description<"u"?C.formatMarkdownish(e.usage.description,{format:this.format(n),paragraphs:!1}):void 0,u=typeof e.usage.details<"u"?C.formatMarkdownish(e.usage.details,{format:this.format(n),paragraphs:!0}):void 0,c=typeof e.usage.examples<"u"?e.usage.examples.map(([d,f])=>[C.formatMarkdownish(d,{format:this.format(n),paragraphs:!1}),f.replace(/\$0/g,this.binaryName)]):void 0;return{path:o,usage:r,category:s,description:a,details:u,examples:c,options:i}}definitions({colored:e=!1}={}){let n=[];for(let o of this.registrations.keys()){let r=this.definition(o,{colored:e});r&&n.push(r)}return n}usage(e=null,{colored:n,detailed:o=!1,prefix:r="$ "}={}){var i;if(e===null){for(let u of this.registrations.keys()){let c=u.paths,d=typeof u.usage<"u";if(!c||c.length===0||c.length===1&&c[0].length===0||((i=c==null?void 0:c.some(p=>p.length===0))!==null&&i!==void 0?i:!1))if(e){e=null;break}else e=u;else if(d){e=null;continue}}e&&(o=!0)}let s=e!==null&&e instanceof pe.Command?e.constructor:e,a="";if(s)if(o){let{description:u="",details:c="",examples:d=[]}=s.usage||{};u!==""&&(a+=C.formatMarkdownish(u,{format:this.format(n),paragraphs:!1}).replace(/^./,p=>p.toUpperCase()),a+=`
`),(c!==""||d.length>0)&&(a+=`${this.format(n).header("Usage")}
`,a+=`
`);let{usage:f,options:l}=this.getUsageByRegistration(s,{inlineOptions:!1});if(a+=`${this.format(n).bold(r)}${f}
`,l.length>0){a+=`
`,a+=`${this.format(n).header("Options")}
`;let p=l.reduce((b,v)=>Math.max(b,v.definition.length),0);a+=`
`;for(let{definition:b,description:v}of l)a+=`  ${this.format(n).bold(b.padEnd(p))}    ${C.formatMarkdownish(v,{format:this.format(n),paragraphs:!1})}`}if(c!==""&&(a+=`
`,a+=`${this.format(n).header("Details")}
`,a+=`
`,a+=C.formatMarkdownish(c,{format:this.format(n),paragraphs:!0})),d.length>0){a+=`
`,a+=`${this.format(n).header("Examples")}
`;for(let[p,b]of d)a+=`
`,a+=C.formatMarkdownish(p,{format:this.format(n),paragraphs:!1}),a+=`${b.replace(/^/m,`  ${this.format(n).bold(r)}`).replace(/\$0/g,this.binaryName)}
`}}else{let{usage:u}=this.getUsageByRegistration(s);a+=`${this.format(n).bold(r)}${u}
`}else{let u=new Map;for(let[l,{index:p}]of this.registrations.entries()){if(typeof l.usage>"u")continue;let b=typeof l.usage.category<"u"?C.formatMarkdownish(l.usage.category,{format:this.format(n),paragraphs:!1}):null,v=u.get(b);typeof v>"u"&&u.set(b,v=[]);let{usage:$}=this.getUsageByIndex(p);v.push({commandClass:l,usage:$})}let c=Array.from(u.keys()).sort((l,p)=>l===null?-1:p===null?1:l.localeCompare(p,"en",{usage:"sort",caseFirst:"upper"})),d=typeof this.binaryLabel<"u",f=typeof this.binaryVersion<"u";d||f?(d&&f?a+=`${this.format(n).header(`${this.binaryLabel} - ${this.binaryVersion}`)}

`:d?a+=`${this.format(n).header(`${this.binaryLabel}`)}
`:a+=`${this.format(n).header(`${this.binaryVersion}`)}
`,a+=`  ${this.format(n).bold(r)}${this.binaryName} <command>
`):a+=`${this.format(n).bold(r)}${this.binaryName} <command>
`;for(let l of c){let p=u.get(l).slice().sort((v,$)=>v.usage.localeCompare($.usage,"en",{usage:"sort",caseFirst:"upper"})),b=l!==null?l.trim():"General commands";a+=`
`,a+=`${this.format(n).header(`${b}`)}
`;for(let{commandClass:v,usage:$}of p){let te=v.usage.description||"undocumented";a+=`
`,a+=`  ${this.format(n).bold($)}
`,a+=`    ${C.formatMarkdownish(te,{format:this.format(n),paragraphs:!1})}`}}a+=`
`,a+=C.formatMarkdownish("You can also print more details about any of these commands by calling them with the `-h,--help` flag right after the command name.",{format:this.format(n),paragraphs:!0})}return a}error(e,n){var o,{colored:r,command:i=(o=e[St])!==null&&o!==void 0?o:null}=n===void 0?{}:n;(!e||typeof e!="object"||!("stack"in e))&&(e=new Error(`Execution failed with a non-error rejection (rejected value: ${JSON.stringify(e)})`));let s="",a=e.name.replace(/([a-z])([A-Z])/g,"$1 $2");a==="Error"&&(a="Internal Error"),s+=`${this.format(r).error(a)}: ${e.message}
`;let u=e.clipanion;return typeof u<"u"?u.type==="usage"&&(s+=`
`,s+=this.usage(i)):e.stack&&(s+=`${e.stack.replace(/^.*\n/,"")}
`),s}format(e){var n;return((n=e??this.enableColors)!==null&&n!==void 0?n:t.defaultContext.colorDepth>1)?C.richFormat:C.textFormat}getUsageByRegistration(e,n){let o=this.registrations.get(e);if(typeof o>"u")throw new Error("Assertion failed: Unregistered command");return this.getUsageByIndex(o.index,n)}getUsageByIndex(e,n){return this.builder.getBuilderByIndex(e).usage(n)}};H.defaultContext={env:process.env,stdin:process.stdin,stdout:process.stdout,stderr:process.stderr,colorDepth:kt.getDefaultColorDepth()};function wt(t){return t()}Q.Cli=H;Q.run=_r;Q.runExit=$r});var At=E(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var Sr=U(),he=class extends Sr.Command{async execute(){this.context.stdout.write(`${JSON.stringify(this.cli.definitions(),null,2)}
`)}};he.paths=[["--clipanion=definitions"]];De.DefinitionsCommand=he});var jt=E(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});var wr=U(),ge=class extends wr.Command{async execute(){this.context.stdout.write(this.cli.usage())}};ge.paths=[["-h"],["--help"]];qe.HelpCommand=ge});var Re=E(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var kr=D();function Cr(t={}){return kr.makeCommandOption({definition(e,n){var o;e.addProxy({name:(o=t.name)!==null&&o!==void 0?o:n,required:t.required})},transformer(e,n,o){return o.positionals.map(({value:r})=>r)}})}Le.Proxy=Cr});var Pt=E(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});var Ir=U(),Ar=Re(),me=class extends Ir.Command{constructor(){super(...arguments),this.args=Ar.Proxy()}async execute(){this.context.stdout.write(`${JSON.stringify(this.cli.process(this.args).tokens,null,2)}
`)}};me.paths=[["--clipanion=tokens"]];Ue.TokensCommand=me});var Mt=E(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});var jr=U(),ye=class extends jr.Command{async execute(){var e;this.context.stdout.write(`${(e=this.cli.binaryVersion)!==null&&e!==void 0?e:"<unknown>"}
`)}};ye.paths=[["-v"],["--version"]];Be.VersionCommand=ye});var Tt=E(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});var Pr=At(),Mr=jt(),Tr=Pt(),Dr=Mt();F.DefinitionsCommand=Pr.DefinitionsCommand;F.HelpCommand=Mr.HelpCommand;F.TokensCommand=Tr.TokensCommand;F.VersionCommand=Dr.VersionCommand});var Dt=E(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var Ve=D();function qr(t,e,n){let[o,r]=Ve.rerouteArguments(e,n??{}),{arity:i=1}=r,s=t.split(","),a=new Set(s);return Ve.makeCommandOption({definition(u){u.addOption({names:s,arity:i,hidden:r==null?void 0:r.hidden,description:r==null?void 0:r.description,required:r.required})},transformer(u,c,d){let f,l=typeof o<"u"?[...o]:void 0;for(let{name:p,value:b}of d.options)a.has(p)&&(f=p,l=l??[],l.push(b));return typeof l<"u"?Ve.applyValidator(f??c,l,r.validator):l}})}Ge.Array=qr});var Lt=E(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});var qt=D();function Lr(t,e,n){let[o,r]=qt.rerouteArguments(e,n??{}),i=t.split(","),s=new Set(i);return qt.makeCommandOption({definition(a){a.addOption({names:i,allowBinding:!1,arity:0,hidden:r.hidden,description:r.description,required:r.required})},transformer(a,u,c){let d=o;for(let{name:f,value:l}of c.options)s.has(f)&&(d=l);return d}})}He.Boolean=Lr});var Ut=E(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});var Rt=D();function Rr(t,e,n){let[o,r]=Rt.rerouteArguments(e,n??{}),i=t.split(","),s=new Set(i);return Rt.makeCommandOption({definition(a){a.addOption({names:i,allowBinding:!1,arity:0,hidden:r.hidden,description:r.description,required:r.required})},transformer(a,u,c){let d=o;for(let{name:f,value:l}of c.options)s.has(f)&&(d??(d=0),l?d+=1:d=0);return d}})}Fe.Counter=Rr});var Bt=E(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});var Ur=de(),Br=D();function Vr(t={}){return Br.makeCommandOption({definition(e,n){var o;e.addRest({name:(o=t.name)!==null&&o!==void 0?o:n,required:t.required})},transformer(e,n,o){let r=s=>{let a=o.positionals[s];return a.extra===Ur.NoLimits||a.extra===!1&&s<e.arity.leading.length},i=0;for(;i<o.positionals.length&&r(i);)i+=1;return o.positionals.splice(0,i).map(({value:s})=>s)}})}Xe.Rest=Vr});var Vt=E(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});var Gr=de(),ee=D();function Hr(t,e,n){let[o,r]=ee.rerouteArguments(e,n??{}),{arity:i=1}=r,s=t.split(","),a=new Set(s);return ee.makeCommandOption({definition(u){u.addOption({names:s,arity:r.tolerateBoolean?0:i,hidden:r.hidden,description:r.description,required:r.required})},transformer(u,c,d,f){let l,p=o;typeof r.env<"u"&&f.env[r.env]&&(l=r.env,p=f.env[r.env]);for(let{name:b,value:v}of d.options)a.has(b)&&(l=b,p=v);return typeof p=="string"?ee.applyValidator(l??c,p,r.validator):p}})}function Fr(t={}){let{required:e=!0}=t;return ee.makeCommandOption({definition(n,o){var r;n.addPositional({name:(r=t.name)!==null&&r!==void 0?r:o,required:t.required})},transformer(n,o,r){var i;for(let s=0;s<r.positionals.length;++s){if(r.positionals[s].extra===Gr.NoLimits||e&&r.positionals[s].extra===!0||!e&&r.positionals[s].extra===!1)continue;let[a]=r.positionals.splice(s,1);return ee.applyValidator((i=t.name)!==null&&i!==void 0?i:o,a.value,t.validator)}}})}function Xr(t,...e){return typeof t=="string"?Hr(t,...e):Fr(t)}Je.String=Xr});var Gt=E(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var X=D(),Jr=Re(),zr=Dt(),Kr=Lt(),Wr=Ut(),Zr=Bt(),Yr=Vt();k.applyValidator=X.applyValidator;k.cleanValidationError=X.cleanValidationError;k.formatError=X.formatError;k.isOptionSymbol=X.isOptionSymbol;k.makeCommandOption=X.makeCommandOption;k.rerouteArguments=X.rerouteArguments;k.Proxy=Jr.Proxy;k.Array=zr.Array;k.Boolean=Kr.Boolean;k.Counter=Wr.Counter;k.Rest=Zr.Rest;k.String=Yr.String});var Ke=E(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var Qr=re(),eo=$e(),to=U(),ze=It(),no=Tt(),ro=Gt();T.UsageError=Qr.UsageError;T.formatMarkdownish=eo.formatMarkdownish;T.Command=to.Command;T.Cli=ze.Cli;T.run=ze.run;T.runExit=ze.runExit;T.Builtins=no;T.Option=ro});var j=be(Ke()),Zt=be(Ke()),V=be(ke());var Ht=".",Ft="**",Xt=["node_modules/**",".git/**"],Jt=(Date.now()*1e3).toString(),zt="quiet",Kt="0",Wt=!1;var We=class extends j.Command{constructor(){super(...arguments);this.pathToSource=j.Option.String("-ps,--pathToSource",Ht,{arity:1,tolerateBoolean:!1,description:"Relative path to directory to check"});this.fileGlob=j.Option.String("-g,--glob",Ft,{description:"Glob Expression to check if a file should be checked",validator:V.isString(),arity:1});this.ignorePatterns=j.Option.Array("-ign,--ignorePatterns",Xt,{description:"File patterns checker will ignore",validator:V.isArray(V.isString())});this.cutoffDate=j.Option.String("-cod,--cutoffDate",Jt,{description:"Cutoff date for a todo passing. Defaults to todays date",validator:V.isDate(),arity:1});this.logLevel=j.Option.String("-ll,--logLevel",zt,{description:"Log level of conversion",arity:1});this.maxNumberOfOverdue=j.Option.String("-mo,--maxOverdue",Kt,{description:"Maximum number of overdue todos you consider successful",arity:1});this.allowMalformedTodo=j.Option.Boolean("-al,--allowMalformed",Wt,{description:"Allow a non-standard todo to be present and still pass"})}async execute(){try{console.log("Yay"),process.exit(0)}catch{process.exit(1)}}},[oo,io,...so]=process.argv,Ze=new Zt.Cli({binaryLabel:"TODO Checker",binaryName:`${oo} ${io}`});Ze.register(We);Ze.register(j.Builtins.HelpCommand);Ze.runExit(so);
