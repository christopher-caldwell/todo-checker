"use strict";var vo=Object.create;var Pe=Object.defineProperty;var Eo=Object.getOwnPropertyDescriptor;var xo=Object.getOwnPropertyNames;var ko=Object.getPrototypeOf,Oo=Object.prototype.hasOwnProperty;var N=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),To=(i,t)=>{for(var e in t)Pe(i,e,{get:t[e],enumerable:!0})},cs=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of xo(t))!Oo.call(i,r)&&r!==e&&Pe(i,r,{get:()=>t[r],enumerable:!(s=Eo(t,r))||s.enumerable});return i};var zt=(i,t,e)=>(e=i!=null?vo(ko(i)):{},cs(t||!i||!i.__esModule?Pe(e,"default",{value:i,enumerable:!0}):e,i)),Do=i=>cs(Pe({},"__esModule",{value:!0}),i);var ps=N((ul,ds)=>{"use strict";ds.exports=us;function us(i,t,e){i instanceof RegExp&&(i=ls(i,e)),t instanceof RegExp&&(t=ls(t,e));var s=fs(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function ls(i,t){var e=t.match(i);return e?e[0]:null}us.range=fs;function fs(i,t,e){var s,r,n,o,a,h=e.indexOf(i),l=e.indexOf(t,h+1),c=h;if(h>=0&&l>0){if(i===t)return[h,l];for(s=[],n=e.length;c>=0&&!a;)c==h?(s.push(c),h=e.indexOf(i,c+1)):s.length==1?a=[s.pop(),l]:(r=s.pop(),r<n&&(n=r,o=l),l=e.indexOf(t,c+1)),c=h<l&&h>=0?h:l;s.length&&(a=[n,o])}return a}});var Es=N((fl,vs)=>{var ms=ps();vs.exports=Ao;var gs="\0SLASH"+Math.random()+"\0",ys="\0OPEN"+Math.random()+"\0",gi="\0CLOSE"+Math.random()+"\0",ws="\0COMMA"+Math.random()+"\0",Ss="\0PERIOD"+Math.random()+"\0";function mi(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Fo(i){return i.split("\\\\").join(gs).split("\\{").join(ys).split("\\}").join(gi).split("\\,").join(ws).split("\\.").join(Ss)}function Co(i){return i.split(gs).join("\\").split(ys).join("{").split(gi).join("}").split(ws).join(",").split(Ss).join(".")}function bs(i){if(!i)return[""];var t=[],e=ms("{","}",i);if(!e)return i.split(",");var s=e.pre,r=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+r+"}";var a=bs(n);return n.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function Ao(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),re(Fo(i),!0).map(Co)):[]}function Po(i){return"{"+i+"}"}function Ro(i){return/^-?0\d/.test(i)}function No(i,t){return i<=t}function Mo(i,t){return i>=t}function re(i,t){var e=[],s=ms("{","}",i);if(!s)return[i];var r=s.pre,n=s.post.length?re(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var a=r+"{"+s.body+"}"+n[o];e.push(a)}else{var h=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),c=h||l,u=s.body.indexOf(",")>=0;if(!c&&!u)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+gi+s.post,re(i)):[i];var f;if(c)f=s.body.split(/\.\./);else if(f=bs(s.body),f.length===1&&(f=re(f[0],!1).map(Po),f.length===1))return n.map(function(R){return s.pre+f[0]+R});var d;if(c){var m=mi(f[0]),p=mi(f[1]),S=Math.max(f[0].length,f[1].length),g=f.length==3?Math.abs(mi(f[2])):1,O=No,T=p<m;T&&(g*=-1,O=Mo);var F=f.some(Ro);d=[];for(var M=m;O(M,p);M+=g){var $;if(l)$=String.fromCharCode(M),$==="\\"&&($="");else if($=String(M),F){var _=S-$.length;if(_>0){var P=new Array(_+1).join("0");M<0?$="-"+P+$.slice(1):$=P+$}}d.push($)}}else{d=[];for(var D=0;D<f.length;D++)d.push.apply(d,re(f[D],!1))}for(var D=0;D<d.length;D++)for(var o=0;o<n.length;o++){var a=r+d[D]+n[o];(!t||c||a)&&e.push(a)}}return e}});var et=N(Mi=>{"use strict";Mi.fromCallback=function(i){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")i.apply(this,t);else return new Promise((e,s)=>{i.call(this,...t,(r,n)=>r!=null?s(r):e(n))})},"name",{value:i.name})};Mi.fromPromise=function(i){return Object.defineProperty(function(...t){let e=t[t.length-1];if(typeof e!="function")return i.apply(this,t);i.apply(this,t.slice(0,-1)).then(s=>e(null,s),e)},"name",{value:i.name})}});var pr=N((du,dr)=>{var Ct=require("constants"),za=process.cwd,Qe=null,Ba=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Qe||(Qe=za.call(process)),Qe};try{process.cwd()}catch{}typeof process.chdir=="function"&&(_i=process.chdir,process.chdir=function(i){Qe=null,_i.call(process,i)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,_i));var _i;dr.exports=Ua;function Ua(i){Ct.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(i),i.lutimes||e(i),i.chown=n(i.chown),i.fchown=n(i.fchown),i.lchown=n(i.lchown),i.chmod=s(i.chmod),i.fchmod=s(i.fchmod),i.lchmod=s(i.lchmod),i.chownSync=o(i.chownSync),i.fchownSync=o(i.fchownSync),i.lchownSync=o(i.lchownSync),i.chmodSync=r(i.chmodSync),i.fchmodSync=r(i.fchmodSync),i.lchmodSync=r(i.lchmodSync),i.stat=a(i.stat),i.fstat=a(i.fstat),i.lstat=a(i.lstat),i.statSync=h(i.statSync),i.fstatSync=h(i.fstatSync),i.lstatSync=h(i.lstatSync),i.chmod&&!i.lchmod&&(i.lchmod=function(c,u,f){f&&process.nextTick(f)},i.lchmodSync=function(){}),i.chown&&!i.lchown&&(i.lchown=function(c,u,f,d){d&&process.nextTick(d)},i.lchownSync=function(){}),Ba==="win32"&&(i.rename=typeof i.rename!="function"?i.rename:function(c){function u(f,d,m){var p=Date.now(),S=0;c(f,d,function g(O){if(O&&(O.code==="EACCES"||O.code==="EPERM"||O.code==="EBUSY")&&Date.now()-p<6e4){setTimeout(function(){i.stat(d,function(T,F){T&&T.code==="ENOENT"?c(f,d,g):m(O)})},S),S<100&&(S+=10);return}m&&m(O)})}return Object.setPrototypeOf&&Object.setPrototypeOf(u,c),u}(i.rename)),i.read=typeof i.read!="function"?i.read:function(c){function u(f,d,m,p,S,g){var O;if(g&&typeof g=="function"){var T=0;O=function(F,M,$){if(F&&F.code==="EAGAIN"&&T<10)return T++,c.call(i,f,d,m,p,S,O);g.apply(this,arguments)}}return c.call(i,f,d,m,p,S,O)}return Object.setPrototypeOf&&Object.setPrototypeOf(u,c),u}(i.read),i.readSync=typeof i.readSync!="function"?i.readSync:function(c){return function(u,f,d,m,p){for(var S=0;;)try{return c.call(i,u,f,d,m,p)}catch(g){if(g.code==="EAGAIN"&&S<10){S++;continue}throw g}}}(i.readSync);function t(c){c.lchmod=function(u,f,d){c.open(u,Ct.O_WRONLY|Ct.O_SYMLINK,f,function(m,p){if(m){d&&d(m);return}c.fchmod(p,f,function(S){c.close(p,function(g){d&&d(S||g)})})})},c.lchmodSync=function(u,f){var d=c.openSync(u,Ct.O_WRONLY|Ct.O_SYMLINK,f),m=!0,p;try{p=c.fchmodSync(d,f),m=!1}finally{if(m)try{c.closeSync(d)}catch{}else c.closeSync(d)}return p}}function e(c){Ct.hasOwnProperty("O_SYMLINK")&&c.futimes?(c.lutimes=function(u,f,d,m){c.open(u,Ct.O_SYMLINK,function(p,S){if(p){m&&m(p);return}c.futimes(S,f,d,function(g){c.close(S,function(O){m&&m(g||O)})})})},c.lutimesSync=function(u,f,d){var m=c.openSync(u,Ct.O_SYMLINK),p,S=!0;try{p=c.futimesSync(m,f,d),S=!1}finally{if(S)try{c.closeSync(m)}catch{}else c.closeSync(m)}return p}):c.futimes&&(c.lutimes=function(u,f,d,m){m&&process.nextTick(m)},c.lutimesSync=function(){})}function s(c){return c&&function(u,f,d){return c.call(i,u,f,function(m){l(m)&&(m=null),d&&d.apply(this,arguments)})}}function r(c){return c&&function(u,f){try{return c.call(i,u,f)}catch(d){if(!l(d))throw d}}}function n(c){return c&&function(u,f,d,m){return c.call(i,u,f,d,function(p){l(p)&&(p=null),m&&m.apply(this,arguments)})}}function o(c){return c&&function(u,f,d){try{return c.call(i,u,f,d)}catch(m){if(!l(m))throw m}}}function a(c){return c&&function(u,f,d){typeof f=="function"&&(d=f,f=null);function m(p,S){S&&(S.uid<0&&(S.uid+=4294967296),S.gid<0&&(S.gid+=4294967296)),d&&d.apply(this,arguments)}return f?c.call(i,u,f,m):c.call(i,u,m)}}function h(c){return c&&function(u,f){var d=f?c.call(i,u,f):c.call(i,u);return d&&(d.uid<0&&(d.uid+=4294967296),d.gid<0&&(d.gid+=4294967296)),d}}function l(c){if(!c||c.code==="ENOSYS")return!0;var u=!process.getuid||process.getuid()!==0;return!!(u&&(c.code==="EINVAL"||c.code==="EPERM"))}}});var yr=N((pu,gr)=>{var mr=require("stream").Stream;gr.exports=Ga;function Ga(i){return{ReadStream:t,WriteStream:e};function t(s,r){if(!(this instanceof t))return new t(s,r);mr.call(this);var n=this;this.path=s,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,r=r||{};for(var o=Object.keys(r),a=0,h=o.length;a<h;a++){var l=o[a];this[l]=r[l]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){n._read()});return}i.open(this.path,this.flags,this.mode,function(c,u){if(c){n.emit("error",c),n.readable=!1;return}n.fd=u,n.emit("open",u),n._read()})}function e(s,r){if(!(this instanceof e))return new e(s,r);mr.call(this),this.path=s,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var n=Object.keys(r),o=0,a=n.length;o<a;o++){var h=n[o];this[h]=r[h]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=i.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Sr=N((mu,wr)=>{"use strict";wr.exports=Ya;var Ja=Object.getPrototypeOf||function(i){return i.__proto__};function Ya(i){if(i===null||typeof i!="object")return i;if(i instanceof Object)var t={__proto__:Ja(i)};else var t=Object.create(null);return Object.getOwnPropertyNames(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}),t}});var it=N((gu,Li)=>{var j=require("fs"),Ha=pr(),Va=yr(),Ka=Sr(),Xe=require("util"),G,ei;typeof Symbol=="function"&&typeof Symbol.for=="function"?(G=Symbol.for("graceful-fs.queue"),ei=Symbol.for("graceful-fs.previous")):(G="___graceful-fs.queue",ei="___graceful-fs.previous");function Za(){}function Er(i,t){Object.defineProperty(i,G,{get:function(){return t}})}var Lt=Za;Xe.debuglog?Lt=Xe.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Lt=function(){var i=Xe.format.apply(Xe,arguments);i="GFS4: "+i.split(/\n/).join(`
GFS4: `),console.error(i)});j[G]||(br=global[G]||[],Er(j,br),j.close=function(i){function t(e,s){return i.call(j,e,function(r){r||vr(),typeof s=="function"&&s.apply(this,arguments)})}return Object.defineProperty(t,ei,{value:i}),t}(j.close),j.closeSync=function(i){function t(e){i.apply(j,arguments),vr()}return Object.defineProperty(t,ei,{value:i}),t}(j.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Lt(j[G]),require("assert").equal(j[G].length,0)}));var br;global[G]||Er(global,j[G]);Li.exports=$i(Ka(j));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!j.__patched&&(Li.exports=$i(j),j.__patched=!0);function $i(i){Ha(i),i.gracefulify=$i,i.createReadStream=M,i.createWriteStream=$;var t=i.readFile;i.readFile=e;function e(D,R,v){return typeof R=="function"&&(v=R,R=null),b(D,R,v);function b(w,E,y,k){return t(w,E,function(x){x&&(x.code==="EMFILE"||x.code==="ENFILE")?Qt([b,[w,E,y],x,k||Date.now(),Date.now()]):typeof y=="function"&&y.apply(this,arguments)})}}var s=i.writeFile;i.writeFile=r;function r(D,R,v,b){return typeof v=="function"&&(b=v,v=null),w(D,R,v,b);function w(E,y,k,x,A){return s(E,y,k,function(C){C&&(C.code==="EMFILE"||C.code==="ENFILE")?Qt([w,[E,y,k,x],C,A||Date.now(),Date.now()]):typeof x=="function"&&x.apply(this,arguments)})}}var n=i.appendFile;n&&(i.appendFile=o);function o(D,R,v,b){return typeof v=="function"&&(b=v,v=null),w(D,R,v,b);function w(E,y,k,x,A){return n(E,y,k,function(C){C&&(C.code==="EMFILE"||C.code==="ENFILE")?Qt([w,[E,y,k,x],C,A||Date.now(),Date.now()]):typeof x=="function"&&x.apply(this,arguments)})}}var a=i.copyFile;a&&(i.copyFile=h);function h(D,R,v,b){return typeof v=="function"&&(b=v,v=0),w(D,R,v,b);function w(E,y,k,x,A){return a(E,y,k,function(C){C&&(C.code==="EMFILE"||C.code==="ENFILE")?Qt([w,[E,y,k,x],C,A||Date.now(),Date.now()]):typeof x=="function"&&x.apply(this,arguments)})}}var l=i.readdir;i.readdir=u;var c=/^v[0-5]\./;function u(D,R,v){typeof R=="function"&&(v=R,R=null);var b=c.test(process.version)?function(y,k,x,A){return l(y,w(y,k,x,A))}:function(y,k,x,A){return l(y,k,w(y,k,x,A))};return b(D,R,v);function w(E,y,k,x){return function(A,C){A&&(A.code==="EMFILE"||A.code==="ENFILE")?Qt([b,[E,y,k],A,x||Date.now(),Date.now()]):(C&&C.sort&&C.sort(),typeof k=="function"&&k.call(this,A,C))}}}if(process.version.substr(0,4)==="v0.8"){var f=Va(i);g=f.ReadStream,T=f.WriteStream}var d=i.ReadStream;d&&(g.prototype=Object.create(d.prototype),g.prototype.open=O);var m=i.WriteStream;m&&(T.prototype=Object.create(m.prototype),T.prototype.open=F),Object.defineProperty(i,"ReadStream",{get:function(){return g},set:function(D){g=D},enumerable:!0,configurable:!0}),Object.defineProperty(i,"WriteStream",{get:function(){return T},set:function(D){T=D},enumerable:!0,configurable:!0});var p=g;Object.defineProperty(i,"FileReadStream",{get:function(){return p},set:function(D){p=D},enumerable:!0,configurable:!0});var S=T;Object.defineProperty(i,"FileWriteStream",{get:function(){return S},set:function(D){S=D},enumerable:!0,configurable:!0});function g(D,R){return this instanceof g?(d.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function O(){var D=this;P(D.path,D.flags,D.mode,function(R,v){R?(D.autoClose&&D.destroy(),D.emit("error",R)):(D.fd=v,D.emit("open",v),D.read())})}function T(D,R){return this instanceof T?(m.apply(this,arguments),this):T.apply(Object.create(T.prototype),arguments)}function F(){var D=this;P(D.path,D.flags,D.mode,function(R,v){R?(D.destroy(),D.emit("error",R)):(D.fd=v,D.emit("open",v))})}function M(D,R){return new i.ReadStream(D,R)}function $(D,R){return new i.WriteStream(D,R)}var _=i.open;i.open=P;function P(D,R,v,b){return typeof v=="function"&&(b=v,v=null),w(D,R,v,b);function w(E,y,k,x,A){return _(E,y,k,function(C,I){C&&(C.code==="EMFILE"||C.code==="ENFILE")?Qt([w,[E,y,k,x],C,A||Date.now(),Date.now()]):typeof x=="function"&&x.apply(this,arguments)})}}return i}function Qt(i){Lt("ENQUEUE",i[0].name,i[1]),j[G].push(i),ji()}var ti;function vr(){for(var i=Date.now(),t=0;t<j[G].length;++t)j[G][t].length>2&&(j[G][t][3]=i,j[G][t][4]=i);ji()}function ji(){if(clearTimeout(ti),ti=void 0,j[G].length!==0){var i=j[G].shift(),t=i[0],e=i[1],s=i[2],r=i[3],n=i[4];if(r===void 0)Lt("RETRY",t.name,e),t.apply(null,e);else if(Date.now()-r>=6e4){Lt("TIMEOUT",t.name,e);var o=e.pop();typeof o=="function"&&o.call(null,s)}else{var a=Date.now()-n,h=Math.max(n-r,1),l=Math.min(h*1.2,100);a>=l?(Lt("RETRY",t.name,e),t.apply(null,e.concat([r]))):j[G].push(i)}ti===void 0&&(ti=setTimeout(ji,0))}}});var It=N(Et=>{"use strict";var xr=et().fromCallback,Z=it(),Qa=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof Z[i]=="function");Object.assign(Et,Z);Qa.forEach(i=>{Et[i]=xr(Z[i])});Et.exists=function(i,t){return typeof t=="function"?Z.exists(i,t):new Promise(e=>Z.exists(i,e))};Et.read=function(i,t,e,s,r,n){return typeof n=="function"?Z.read(i,t,e,s,r,n):new Promise((o,a)=>{Z.read(i,t,e,s,r,(h,l,c)=>{if(h)return a(h);o({bytesRead:l,buffer:c})})})};Et.write=function(i,t,...e){return typeof e[e.length-1]=="function"?Z.write(i,t,...e):new Promise((s,r)=>{Z.write(i,t,...e,(n,o,a)=>{if(n)return r(n);s({bytesWritten:o,buffer:a})})})};Et.readv=function(i,t,...e){return typeof e[e.length-1]=="function"?Z.readv(i,t,...e):new Promise((s,r)=>{Z.readv(i,t,...e,(n,o,a)=>{if(n)return r(n);s({bytesRead:o,buffers:a})})})};Et.writev=function(i,t,...e){return typeof e[e.length-1]=="function"?Z.writev(i,t,...e):new Promise((s,r)=>{Z.writev(i,t,...e,(n,o,a)=>{if(n)return r(n);s({bytesWritten:o,buffers:a})})})};typeof Z.realpath.native=="function"?Et.realpath.native=xr(Z.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var Or=N((wu,kr)=>{"use strict";var Xa=require("path");kr.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(Xa.parse(t).root,""))){let s=new Error(`Path contains invalid characters: ${t}`);throw s.code="EINVAL",s}}});var Cr=N((Su,Ii)=>{"use strict";var Tr=It(),{checkPath:Dr}=Or(),Fr=i=>{let t={mode:511};return typeof i=="number"?i:{...t,...i}.mode};Ii.exports.makeDir=async(i,t)=>(Dr(i),Tr.mkdir(i,{mode:Fr(t),recursive:!0}));Ii.exports.makeDirSync=(i,t)=>(Dr(i),Tr.mkdirSync(i,{mode:Fr(t),recursive:!0}))});var mt=N((bu,Ar)=>{"use strict";var th=et().fromPromise,{makeDir:eh,makeDirSync:Wi}=Cr(),qi=th(eh);Ar.exports={mkdirs:qi,mkdirsSync:Wi,mkdirp:qi,mkdirpSync:Wi,ensureDir:qi,ensureDirSync:Wi}});var At=N((vu,Rr)=>{"use strict";var ih=et().fromPromise,Pr=It();function sh(i){return Pr.access(i).then(()=>!0).catch(()=>!1)}Rr.exports={pathExists:ih(sh),pathExistsSync:Pr.existsSync}});var zi=N((Eu,Nr)=>{"use strict";var Xt=it();function rh(i,t,e,s){Xt.open(i,"r+",(r,n)=>{if(r)return s(r);Xt.futimes(n,t,e,o=>{Xt.close(n,a=>{s&&s(o||a)})})})}function nh(i,t,e){let s=Xt.openSync(i,"r+");return Xt.futimesSync(s,t,e),Xt.closeSync(s)}Nr.exports={utimesMillis:rh,utimesMillisSync:nh}});var Wt=N((xu,$r)=>{"use strict";var te=It(),B=require("path"),oh=require("util");function ah(i,t,e){let s=e.dereference?r=>te.stat(r,{bigint:!0}):r=>te.lstat(r,{bigint:!0});return Promise.all([s(i),s(t).catch(r=>{if(r.code==="ENOENT")return null;throw r})]).then(([r,n])=>({srcStat:r,destStat:n}))}function hh(i,t,e){let s,r=e.dereference?o=>te.statSync(o,{bigint:!0}):o=>te.lstatSync(o,{bigint:!0}),n=r(i);try{s=r(t)}catch(o){if(o.code==="ENOENT")return{srcStat:n,destStat:null};throw o}return{srcStat:n,destStat:s}}function ch(i,t,e,s,r){oh.callbackify(ah)(i,t,s,(n,o)=>{if(n)return r(n);let{srcStat:a,destStat:h}=o;if(h){if(Ee(a,h)){let l=B.basename(i),c=B.basename(t);return e==="move"&&l!==c&&l.toLowerCase()===c.toLowerCase()?r(null,{srcStat:a,destStat:h,isChangingCase:!0}):r(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!h.isDirectory())return r(new Error(`Cannot overwrite non-directory '${t}' with directory '${i}'.`));if(!a.isDirectory()&&h.isDirectory())return r(new Error(`Cannot overwrite directory '${t}' with non-directory '${i}'.`))}return a.isDirectory()&&Bi(i,t)?r(new Error(ii(i,t,e))):r(null,{srcStat:a,destStat:h})})}function lh(i,t,e,s){let{srcStat:r,destStat:n}=hh(i,t,s);if(n){if(Ee(r,n)){let o=B.basename(i),a=B.basename(t);if(e==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:r,destStat:n,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(r.isDirectory()&&!n.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${i}'.`);if(!r.isDirectory()&&n.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${i}'.`)}if(r.isDirectory()&&Bi(i,t))throw new Error(ii(i,t,e));return{srcStat:r,destStat:n}}function Mr(i,t,e,s,r){let n=B.resolve(B.dirname(i)),o=B.resolve(B.dirname(e));if(o===n||o===B.parse(o).root)return r();te.stat(o,{bigint:!0},(a,h)=>a?a.code==="ENOENT"?r():r(a):Ee(t,h)?r(new Error(ii(i,e,s))):Mr(i,t,o,s,r))}function _r(i,t,e,s){let r=B.resolve(B.dirname(i)),n=B.resolve(B.dirname(e));if(n===r||n===B.parse(n).root)return;let o;try{o=te.statSync(n,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(Ee(t,o))throw new Error(ii(i,e,s));return _r(i,t,n,s)}function Ee(i,t){return t.ino&&t.dev&&t.ino===i.ino&&t.dev===i.dev}function Bi(i,t){let e=B.resolve(i).split(B.sep).filter(r=>r),s=B.resolve(t).split(B.sep).filter(r=>r);return e.reduce((r,n,o)=>r&&s[o]===n,!0)}function ii(i,t,e){return`Cannot ${e} '${i}' to a subdirectory of itself, '${t}'.`}$r.exports={checkPaths:ch,checkPathsSync:lh,checkParentPaths:Mr,checkParentPathsSync:_r,isSrcSubdir:Bi,areIdentical:Ee}});var zr=N((ku,qr)=>{"use strict";var st=it(),xe=require("path"),uh=mt().mkdirs,fh=At().pathExists,dh=zi().utimesMillis,ke=Wt();function ph(i,t,e,s){typeof e=="function"&&!s?(s=e,e={}):typeof e=="function"&&(e={filter:e}),s=s||function(){},e=e||{},e.clobber="clobber"in e?!!e.clobber:!0,e.overwrite="overwrite"in e?!!e.overwrite:e.clobber,e.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),ke.checkPaths(i,t,"copy",e,(r,n)=>{if(r)return s(r);let{srcStat:o,destStat:a}=n;ke.checkParentPaths(i,o,t,"copy",h=>{if(h)return s(h);Lr(i,t,e,(l,c)=>{if(l)return s(l);if(!c)return s();mh(a,i,t,e,s)})})})}function mh(i,t,e,s,r){let n=xe.dirname(e);fh(n,(o,a)=>{if(o)return r(o);if(a)return Ui(i,t,e,s,r);uh(n,h=>h?r(h):Ui(i,t,e,s,r))})}function Lr(i,t,e,s){if(!e.filter)return s(null,!0);Promise.resolve(e.filter(i,t)).then(r=>s(null,r),r=>s(r))}function Ui(i,t,e,s,r){(s.dereference?st.stat:st.lstat)(t,(o,a)=>o?r(o):a.isDirectory()?Eh(a,i,t,e,s,r):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?gh(a,i,t,e,s,r):a.isSymbolicLink()?Oh(i,t,e,s,r):a.isSocket()?r(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?r(new Error(`Cannot copy a FIFO pipe: ${t}`)):r(new Error(`Unknown file: ${t}`)))}function gh(i,t,e,s,r,n){return t?yh(i,e,s,r,n):Ir(i,e,s,r,n)}function yh(i,t,e,s,r){if(s.overwrite)st.unlink(e,n=>n?r(n):Ir(i,t,e,s,r));else return s.errorOnExist?r(new Error(`'${e}' already exists`)):r()}function Ir(i,t,e,s,r){st.copyFile(t,e,n=>n?r(n):s.preserveTimestamps?wh(i.mode,t,e,r):si(e,i.mode,r))}function wh(i,t,e,s){return Sh(i)?bh(e,i,r=>r?s(r):jr(i,t,e,s)):jr(i,t,e,s)}function Sh(i){return(i&128)===0}function bh(i,t,e){return si(i,t|128,e)}function jr(i,t,e,s){vh(t,e,r=>r?s(r):si(e,i,s))}function si(i,t,e){return st.chmod(i,t,e)}function vh(i,t,e){st.stat(i,(s,r)=>s?e(s):dh(t,r.atime,r.mtime,e))}function Eh(i,t,e,s,r,n){return t?Wr(e,s,r,n):xh(i.mode,e,s,r,n)}function xh(i,t,e,s,r){st.mkdir(e,n=>{if(n)return r(n);Wr(t,e,s,o=>o?r(o):si(e,i,r))})}function Wr(i,t,e,s){st.readdir(i,(r,n)=>r?s(r):Gi(n,i,t,e,s))}function Gi(i,t,e,s,r){let n=i.pop();return n?kh(i,n,t,e,s,r):r()}function kh(i,t,e,s,r,n){let o=xe.join(e,t),a=xe.join(s,t);Lr(o,a,r,(h,l)=>{if(h)return n(h);if(!l)return Gi(i,e,s,r,n);ke.checkPaths(o,a,"copy",r,(c,u)=>{if(c)return n(c);let{destStat:f}=u;Ui(f,o,a,r,d=>d?n(d):Gi(i,e,s,r,n))})})}function Oh(i,t,e,s,r){st.readlink(t,(n,o)=>{if(n)return r(n);if(s.dereference&&(o=xe.resolve(process.cwd(),o)),i)st.readlink(e,(a,h)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?st.symlink(o,e,r):r(a):(s.dereference&&(h=xe.resolve(process.cwd(),h)),ke.isSrcSubdir(o,h)?r(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${h}'.`)):ke.isSrcSubdir(h,o)?r(new Error(`Cannot overwrite '${h}' with '${o}'.`)):Th(o,e,r)));else return st.symlink(o,e,r)})}function Th(i,t,e){st.unlink(t,s=>s?e(s):st.symlink(i,t,e))}qr.exports=ph});var Yr=N((Ou,Jr)=>{"use strict";var Q=it(),Oe=require("path"),Dh=mt().mkdirsSync,Fh=zi().utimesMillisSync,Te=Wt();function Ch(i,t,e){typeof e=="function"&&(e={filter:e}),e=e||{},e.clobber="clobber"in e?!!e.clobber:!0,e.overwrite="overwrite"in e?!!e.overwrite:e.clobber,e.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:s,destStat:r}=Te.checkPathsSync(i,t,"copy",e);if(Te.checkParentPathsSync(i,s,t,"copy"),e.filter&&!e.filter(i,t))return;let n=Oe.dirname(t);return Q.existsSync(n)||Dh(n),Br(r,i,t,e)}function Br(i,t,e,s){let n=(s.dereference?Q.statSync:Q.lstatSync)(t);if(n.isDirectory())return $h(n,i,t,e,s);if(n.isFile()||n.isCharacterDevice()||n.isBlockDevice())return Ah(n,i,t,e,s);if(n.isSymbolicLink())return Ih(i,t,e,s);throw n.isSocket()?new Error(`Cannot copy a socket file: ${t}`):n.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Ah(i,t,e,s,r){return t?Ph(i,e,s,r):Ur(i,e,s,r)}function Ph(i,t,e,s){if(s.overwrite)return Q.unlinkSync(e),Ur(i,t,e,s);if(s.errorOnExist)throw new Error(`'${e}' already exists`)}function Ur(i,t,e,s){return Q.copyFileSync(t,e),s.preserveTimestamps&&Rh(i.mode,t,e),Ji(e,i.mode)}function Rh(i,t,e){return Nh(i)&&Mh(e,i),_h(t,e)}function Nh(i){return(i&128)===0}function Mh(i,t){return Ji(i,t|128)}function Ji(i,t){return Q.chmodSync(i,t)}function _h(i,t){let e=Q.statSync(i);return Fh(t,e.atime,e.mtime)}function $h(i,t,e,s,r){return t?Gr(e,s,r):jh(i.mode,e,s,r)}function jh(i,t,e,s){return Q.mkdirSync(e),Gr(t,e,s),Ji(e,i)}function Gr(i,t,e){Q.readdirSync(i).forEach(s=>Lh(s,i,t,e))}function Lh(i,t,e,s){let r=Oe.join(t,i),n=Oe.join(e,i);if(s.filter&&!s.filter(r,n))return;let{destStat:o}=Te.checkPathsSync(r,n,"copy",s);return Br(o,r,n,s)}function Ih(i,t,e,s){let r=Q.readlinkSync(t);if(s.dereference&&(r=Oe.resolve(process.cwd(),r)),i){let n;try{n=Q.readlinkSync(e)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Q.symlinkSync(r,e);throw o}if(s.dereference&&(n=Oe.resolve(process.cwd(),n)),Te.isSrcSubdir(r,n))throw new Error(`Cannot copy '${r}' to a subdirectory of itself, '${n}'.`);if(Te.isSrcSubdir(n,r))throw new Error(`Cannot overwrite '${n}' with '${r}'.`);return Wh(r,e)}else return Q.symlinkSync(r,e)}function Wh(i,t){return Q.unlinkSync(t),Q.symlinkSync(i,t)}Jr.exports=Ch});var ri=N((Tu,Hr)=>{"use strict";var qh=et().fromCallback;Hr.exports={copy:qh(zr()),copySync:Yr()}});var De=N((Du,Kr)=>{"use strict";var Vr=it(),zh=et().fromCallback;function Bh(i,t){Vr.rm(i,{recursive:!0,force:!0},t)}function Uh(i){Vr.rmSync(i,{recursive:!0,force:!0})}Kr.exports={remove:zh(Bh),removeSync:Uh}});var nn=N((Fu,rn)=>{"use strict";var Gh=et().fromPromise,Xr=It(),tn=require("path"),en=mt(),sn=De(),Zr=Gh(async function(t){let e;try{e=await Xr.readdir(t)}catch{return en.mkdirs(t)}return Promise.all(e.map(s=>sn.remove(tn.join(t,s))))});function Qr(i){let t;try{t=Xr.readdirSync(i)}catch{return en.mkdirsSync(i)}t.forEach(e=>{e=tn.join(i,e),sn.removeSync(e)})}rn.exports={emptyDirSync:Qr,emptydirSync:Qr,emptyDir:Zr,emptydir:Zr}});var cn=N((Cu,hn)=>{"use strict";var Jh=et().fromCallback,on=require("path"),Pt=it(),an=mt();function Yh(i,t){function e(){Pt.writeFile(i,"",s=>{if(s)return t(s);t()})}Pt.stat(i,(s,r)=>{if(!s&&r.isFile())return t();let n=on.dirname(i);Pt.stat(n,(o,a)=>{if(o)return o.code==="ENOENT"?an.mkdirs(n,h=>{if(h)return t(h);e()}):t(o);a.isDirectory()?e():Pt.readdir(n,h=>{if(h)return t(h)})})})}function Hh(i){let t;try{t=Pt.statSync(i)}catch{}if(t&&t.isFile())return;let e=on.dirname(i);try{Pt.statSync(e).isDirectory()||Pt.readdirSync(e)}catch(s){if(s&&s.code==="ENOENT")an.mkdirsSync(e);else throw s}Pt.writeFileSync(i,"")}hn.exports={createFile:Jh(Yh),createFileSync:Hh}});var pn=N((Au,dn)=>{"use strict";var Vh=et().fromCallback,ln=require("path"),Rt=it(),un=mt(),Kh=At().pathExists,{areIdentical:fn}=Wt();function Zh(i,t,e){function s(r,n){Rt.link(r,n,o=>{if(o)return e(o);e(null)})}Rt.lstat(t,(r,n)=>{Rt.lstat(i,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),e(o);if(n&&fn(a,n))return e(null);let h=ln.dirname(t);Kh(h,(l,c)=>{if(l)return e(l);if(c)return s(i,t);un.mkdirs(h,u=>{if(u)return e(u);s(i,t)})})})})}function Qh(i,t){let e;try{e=Rt.lstatSync(t)}catch{}try{let n=Rt.lstatSync(i);if(e&&fn(n,e))return}catch(n){throw n.message=n.message.replace("lstat","ensureLink"),n}let s=ln.dirname(t);return Rt.existsSync(s)||un.mkdirsSync(s),Rt.linkSync(i,t)}dn.exports={createLink:Vh(Zh),createLinkSync:Qh}});var gn=N((Pu,mn)=>{"use strict";var Nt=require("path"),Fe=it(),Xh=At().pathExists;function tc(i,t,e){if(Nt.isAbsolute(i))return Fe.lstat(i,s=>s?(s.message=s.message.replace("lstat","ensureSymlink"),e(s)):e(null,{toCwd:i,toDst:i}));{let s=Nt.dirname(t),r=Nt.join(s,i);return Xh(r,(n,o)=>n?e(n):o?e(null,{toCwd:r,toDst:i}):Fe.lstat(i,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),e(a)):e(null,{toCwd:i,toDst:Nt.relative(s,i)})))}}function ec(i,t){let e;if(Nt.isAbsolute(i)){if(e=Fe.existsSync(i),!e)throw new Error("absolute srcpath does not exist");return{toCwd:i,toDst:i}}else{let s=Nt.dirname(t),r=Nt.join(s,i);if(e=Fe.existsSync(r),e)return{toCwd:r,toDst:i};if(e=Fe.existsSync(i),!e)throw new Error("relative srcpath does not exist");return{toCwd:i,toDst:Nt.relative(s,i)}}}mn.exports={symlinkPaths:tc,symlinkPathsSync:ec}});var Sn=N((Ru,wn)=>{"use strict";var yn=it();function ic(i,t,e){if(e=typeof t=="function"?t:e,t=typeof t=="function"?!1:t,t)return e(null,t);yn.lstat(i,(s,r)=>{if(s)return e(null,"file");t=r&&r.isDirectory()?"dir":"file",e(null,t)})}function sc(i,t){let e;if(t)return t;try{e=yn.lstatSync(i)}catch{return"file"}return e&&e.isDirectory()?"dir":"file"}wn.exports={symlinkType:ic,symlinkTypeSync:sc}});var Dn=N((Nu,Tn)=>{"use strict";var rc=et().fromCallback,vn=require("path"),gt=It(),En=mt(),nc=En.mkdirs,oc=En.mkdirsSync,xn=gn(),ac=xn.symlinkPaths,hc=xn.symlinkPathsSync,kn=Sn(),cc=kn.symlinkType,lc=kn.symlinkTypeSync,uc=At().pathExists,{areIdentical:On}=Wt();function fc(i,t,e,s){s=typeof e=="function"?e:s,e=typeof e=="function"?!1:e,gt.lstat(t,(r,n)=>{!r&&n.isSymbolicLink()?Promise.all([gt.stat(i),gt.stat(t)]).then(([o,a])=>{if(On(o,a))return s(null);bn(i,t,e,s)}):bn(i,t,e,s)})}function bn(i,t,e,s){ac(i,t,(r,n)=>{if(r)return s(r);i=n.toDst,cc(n.toCwd,e,(o,a)=>{if(o)return s(o);let h=vn.dirname(t);uc(h,(l,c)=>{if(l)return s(l);if(c)return gt.symlink(i,t,a,s);nc(h,u=>{if(u)return s(u);gt.symlink(i,t,a,s)})})})})}function dc(i,t,e){let s;try{s=gt.lstatSync(t)}catch{}if(s&&s.isSymbolicLink()){let a=gt.statSync(i),h=gt.statSync(t);if(On(a,h))return}let r=hc(i,t);i=r.toDst,e=lc(r.toCwd,e);let n=vn.dirname(t);return gt.existsSync(n)||oc(n),gt.symlinkSync(i,t,e)}Tn.exports={createSymlink:rc(fc),createSymlinkSync:dc}});var _n=N((Mu,Mn)=>{"use strict";var{createFile:Fn,createFileSync:Cn}=cn(),{createLink:An,createLinkSync:Pn}=pn(),{createSymlink:Rn,createSymlinkSync:Nn}=Dn();Mn.exports={createFile:Fn,createFileSync:Cn,ensureFile:Fn,ensureFileSync:Cn,createLink:An,createLinkSync:Pn,ensureLink:An,ensureLinkSync:Pn,createSymlink:Rn,createSymlinkSync:Nn,ensureSymlink:Rn,ensureSymlinkSync:Nn}});var ni=N((_u,$n)=>{function pc(i,{EOL:t=`
`,finalEOL:e=!0,replacer:s=null,spaces:r}={}){let n=e?t:"";return JSON.stringify(i,s,r).replace(/\n/g,t)+n}function mc(i){return Buffer.isBuffer(i)&&(i=i.toString("utf8")),i.replace(/^\uFEFF/,"")}$n.exports={stringify:pc,stripBom:mc}});var Wn=N(($u,In)=>{var ee;try{ee=it()}catch{ee=require("fs")}var oi=et(),{stringify:jn,stripBom:Ln}=ni();async function gc(i,t={}){typeof t=="string"&&(t={encoding:t});let e=t.fs||ee,s="throws"in t?t.throws:!0,r=await oi.fromCallback(e.readFile)(i,t);r=Ln(r);let n;try{n=JSON.parse(r,t?t.reviver:null)}catch(o){if(s)throw o.message=`${i}: ${o.message}`,o;return null}return n}var yc=oi.fromPromise(gc);function wc(i,t={}){typeof t=="string"&&(t={encoding:t});let e=t.fs||ee,s="throws"in t?t.throws:!0;try{let r=e.readFileSync(i,t);return r=Ln(r),JSON.parse(r,t.reviver)}catch(r){if(s)throw r.message=`${i}: ${r.message}`,r;return null}}async function Sc(i,t,e={}){let s=e.fs||ee,r=jn(t,e);await oi.fromCallback(s.writeFile)(i,r,e)}var bc=oi.fromPromise(Sc);function vc(i,t,e={}){let s=e.fs||ee,r=jn(t,e);return s.writeFileSync(i,r,e)}var Ec={readFile:yc,readFileSync:wc,writeFile:bc,writeFileSync:vc};In.exports=Ec});var zn=N((ju,qn)=>{"use strict";var ai=Wn();qn.exports={readJson:ai.readFile,readJsonSync:ai.readFileSync,writeJson:ai.writeFile,writeJsonSync:ai.writeFileSync}});var hi=N((Lu,Gn)=>{"use strict";var xc=et().fromCallback,Ce=it(),Bn=require("path"),Un=mt(),kc=At().pathExists;function Oc(i,t,e,s){typeof e=="function"&&(s=e,e="utf8");let r=Bn.dirname(i);kc(r,(n,o)=>{if(n)return s(n);if(o)return Ce.writeFile(i,t,e,s);Un.mkdirs(r,a=>{if(a)return s(a);Ce.writeFile(i,t,e,s)})})}function Tc(i,...t){let e=Bn.dirname(i);if(Ce.existsSync(e))return Ce.writeFileSync(i,...t);Un.mkdirsSync(e),Ce.writeFileSync(i,...t)}Gn.exports={outputFile:xc(Oc),outputFileSync:Tc}});var Yn=N((Iu,Jn)=>{"use strict";var{stringify:Dc}=ni(),{outputFile:Fc}=hi();async function Cc(i,t,e={}){let s=Dc(t,e);await Fc(i,s,e)}Jn.exports=Cc});var Vn=N((Wu,Hn)=>{"use strict";var{stringify:Ac}=ni(),{outputFileSync:Pc}=hi();function Rc(i,t,e){let s=Ac(t,e);Pc(i,s,e)}Hn.exports=Rc});var Zn=N((qu,Kn)=>{"use strict";var Nc=et().fromPromise,X=zn();X.outputJson=Nc(Yn());X.outputJsonSync=Vn();X.outputJSON=X.outputJson;X.outputJSONSync=X.outputJsonSync;X.writeJSON=X.writeJson;X.writeJSONSync=X.writeJsonSync;X.readJSON=X.readJson;X.readJSONSync=X.readJsonSync;Kn.exports=X});var io=N((zu,eo)=>{"use strict";var Mc=it(),Hi=require("path"),_c=ri().copy,to=De().remove,$c=mt().mkdirp,jc=At().pathExists,Qn=Wt();function Lc(i,t,e,s){typeof e=="function"&&(s=e,e={}),e=e||{};let r=e.overwrite||e.clobber||!1;Qn.checkPaths(i,t,"move",e,(n,o)=>{if(n)return s(n);let{srcStat:a,isChangingCase:h=!1}=o;Qn.checkParentPaths(i,a,t,"move",l=>{if(l)return s(l);if(Ic(t))return Xn(i,t,r,h,s);$c(Hi.dirname(t),c=>c?s(c):Xn(i,t,r,h,s))})})}function Ic(i){let t=Hi.dirname(i);return Hi.parse(t).root===t}function Xn(i,t,e,s,r){if(s)return Yi(i,t,e,r);if(e)return to(t,n=>n?r(n):Yi(i,t,e,r));jc(t,(n,o)=>n?r(n):o?r(new Error("dest already exists.")):Yi(i,t,e,r))}function Yi(i,t,e,s){Mc.rename(i,t,r=>r?r.code!=="EXDEV"?s(r):Wc(i,t,e,s):s())}function Wc(i,t,e,s){_c(i,t,{overwrite:e,errorOnExist:!0,preserveTimestamps:!0},n=>n?s(n):to(i,s))}eo.exports=Lc});var ao=N((Bu,oo)=>{"use strict";var ro=it(),Ki=require("path"),qc=ri().copySync,no=De().removeSync,zc=mt().mkdirpSync,so=Wt();function Bc(i,t,e){e=e||{};let s=e.overwrite||e.clobber||!1,{srcStat:r,isChangingCase:n=!1}=so.checkPathsSync(i,t,"move",e);return so.checkParentPathsSync(i,r,t,"move"),Uc(t)||zc(Ki.dirname(t)),Gc(i,t,s,n)}function Uc(i){let t=Ki.dirname(i);return Ki.parse(t).root===t}function Gc(i,t,e,s){if(s)return Vi(i,t,e);if(e)return no(t),Vi(i,t,e);if(ro.existsSync(t))throw new Error("dest already exists.");return Vi(i,t,e)}function Vi(i,t,e){try{ro.renameSync(i,t)}catch(s){if(s.code!=="EXDEV")throw s;return Jc(i,t,e)}}function Jc(i,t,e){return qc(i,t,{overwrite:e,errorOnExist:!0,preserveTimestamps:!0}),no(i)}oo.exports=Bc});var co=N((Uu,ho)=>{"use strict";var Yc=et().fromCallback;ho.exports={move:Yc(io()),moveSync:ao()}});var uo=N((Gu,lo)=>{"use strict";lo.exports={...It(),...ri(),...nn(),..._n(),...Zn(),...mt(),...co(),...hi(),...At(),...De()}});var fo=N((Zi,Qi)=>{(function(i,t){typeof Zi=="object"&&typeof Qi<"u"?Qi.exports=t():typeof define=="function"&&define.amd?define(t):(i=typeof globalThis<"u"?globalThis:i||self).dayjs=t()})(Zi,function(){"use strict";var i=1e3,t=6e4,e=36e5,s="millisecond",r="second",n="minute",o="hour",a="day",h="week",l="month",c="quarter",u="year",f="date",d="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var b=["th","st","nd","rd"],w=v%100;return"["+v+(b[(w-20)%10]||b[w]||b[0])+"]"}},g=function(v,b,w){var E=String(v);return!E||E.length>=b?v:""+Array(b+1-E.length).join(w)+v},O={s:g,z:function(v){var b=-v.utcOffset(),w=Math.abs(b),E=Math.floor(w/60),y=w%60;return(b<=0?"+":"-")+g(E,2,"0")+":"+g(y,2,"0")},m:function v(b,w){if(b.date()<w.date())return-v(w,b);var E=12*(w.year()-b.year())+(w.month()-b.month()),y=b.clone().add(E,l),k=w-y<0,x=b.clone().add(E+(k?-1:1),l);return+(-(E+(w-y)/(k?y-x:x-y))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:l,y:u,w:h,d:a,D:f,h:o,m:n,s:r,ms:s,Q:c}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},T="en",F={};F[T]=S;var M=function(v){return v instanceof D},$=function v(b,w,E){var y;if(!b)return T;if(typeof b=="string"){var k=b.toLowerCase();F[k]&&(y=k),w&&(F[k]=w,y=k);var x=b.split("-");if(!y&&x.length>1)return v(x[0])}else{var A=b.name;F[A]=b,y=A}return!E&&y&&(T=y),y||!E&&T},_=function(v,b){if(M(v))return v.clone();var w=typeof b=="object"?b:{};return w.date=v,w.args=arguments,new D(w)},P=O;P.l=$,P.i=M,P.w=function(v,b){return _(v,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var D=function(){function v(w){this.$L=$(w.locale,null,!0),this.parse(w)}var b=v.prototype;return b.parse=function(w){this.$d=function(E){var y=E.date,k=E.utc;if(y===null)return new Date(NaN);if(P.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var x=y.match(m);if(x){var A=x[2]-1||0,C=(x[7]||"0").substring(0,3);return k?new Date(Date.UTC(x[1],A,x[3]||1,x[4]||0,x[5]||0,x[6]||0,C)):new Date(x[1],A,x[3]||1,x[4]||0,x[5]||0,x[6]||0,C)}}return new Date(y)}(w),this.$x=w.x||{},this.init()},b.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},b.$utils=function(){return P},b.isValid=function(){return this.$d.toString()!==d},b.isSame=function(w,E){var y=_(w);return this.startOf(E)<=y&&y<=this.endOf(E)},b.isAfter=function(w,E){return _(w)<this.startOf(E)},b.isBefore=function(w,E){return this.endOf(E)<_(w)},b.$g=function(w,E,y){return P.u(w)?this[E]:this.set(y,w)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(w,E){var y=this,k=!!P.u(E)||E,x=P.p(w),A=function(_t,tt){var kt=P.w(y.$u?Date.UTC(y.$y,tt,_t):new Date(y.$y,tt,_t),y);return k?kt:kt.endOf(a)},C=function(_t,tt){return P.w(y.toDate()[_t].apply(y.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(tt)),y)},I=this.$W,J=this.$M,ot=this.$D,qt="set"+(this.$u?"UTC":"");switch(x){case u:return k?A(1,0):A(31,11);case l:return k?A(1,J):A(0,J+1);case h:var Mt=this.$locale().weekStart||0,ie=(I<Mt?I+7:I)-Mt;return A(k?ot-ie:ot+(6-ie),J);case a:case f:return C(qt+"Hours",0);case o:return C(qt+"Minutes",1);case n:return C(qt+"Seconds",2);case r:return C(qt+"Milliseconds",3);default:return this.clone()}},b.endOf=function(w){return this.startOf(w,!1)},b.$set=function(w,E){var y,k=P.p(w),x="set"+(this.$u?"UTC":""),A=(y={},y[a]=x+"Date",y[f]=x+"Date",y[l]=x+"Month",y[u]=x+"FullYear",y[o]=x+"Hours",y[n]=x+"Minutes",y[r]=x+"Seconds",y[s]=x+"Milliseconds",y)[k],C=k===a?this.$D+(E-this.$W):E;if(k===l||k===u){var I=this.clone().set(f,1);I.$d[A](C),I.init(),this.$d=I.set(f,Math.min(this.$D,I.daysInMonth())).$d}else A&&this.$d[A](C);return this.init(),this},b.set=function(w,E){return this.clone().$set(w,E)},b.get=function(w){return this[P.p(w)]()},b.add=function(w,E){var y,k=this;w=Number(w);var x=P.p(E),A=function(J){var ot=_(k);return P.w(ot.date(ot.date()+Math.round(J*w)),k)};if(x===l)return this.set(l,this.$M+w);if(x===u)return this.set(u,this.$y+w);if(x===a)return A(1);if(x===h)return A(7);var C=(y={},y[n]=t,y[o]=e,y[r]=i,y)[x]||1,I=this.$d.getTime()+w*C;return P.w(I,this)},b.subtract=function(w,E){return this.add(-1*w,E)},b.format=function(w){var E=this,y=this.$locale();if(!this.isValid())return y.invalidDate||d;var k=w||"YYYY-MM-DDTHH:mm:ssZ",x=P.z(this),A=this.$H,C=this.$m,I=this.$M,J=y.weekdays,ot=y.months,qt=y.meridiem,Mt=function(tt,kt,se,Ae){return tt&&(tt[kt]||tt(E,k))||se[kt].slice(0,Ae)},ie=function(tt){return P.s(A%12||12,tt,"0")},_t=qt||function(tt,kt,se){var Ae=tt<12?"AM":"PM";return se?Ae.toLowerCase():Ae};return k.replace(p,function(tt,kt){return kt||function(se){switch(se){case"YY":return String(E.$y).slice(-2);case"YYYY":return P.s(E.$y,4,"0");case"M":return I+1;case"MM":return P.s(I+1,2,"0");case"MMM":return Mt(y.monthsShort,I,ot,3);case"MMMM":return Mt(ot,I);case"D":return E.$D;case"DD":return P.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return Mt(y.weekdaysMin,E.$W,J,2);case"ddd":return Mt(y.weekdaysShort,E.$W,J,3);case"dddd":return J[E.$W];case"H":return String(A);case"HH":return P.s(A,2,"0");case"h":return ie(1);case"hh":return ie(2);case"a":return _t(A,C,!0);case"A":return _t(A,C,!1);case"m":return String(C);case"mm":return P.s(C,2,"0");case"s":return String(E.$s);case"ss":return P.s(E.$s,2,"0");case"SSS":return P.s(E.$ms,3,"0");case"Z":return x}return null}(tt)||x.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(w,E,y){var k,x=this,A=P.p(E),C=_(w),I=(C.utcOffset()-this.utcOffset())*t,J=this-C,ot=function(){return P.m(x,C)};switch(A){case u:k=ot()/12;break;case l:k=ot();break;case c:k=ot()/3;break;case h:k=(J-I)/6048e5;break;case a:k=(J-I)/864e5;break;case o:k=J/e;break;case n:k=J/t;break;case r:k=J/i;break;default:k=J}return y?k:P.a(k)},b.daysInMonth=function(){return this.endOf(l).$D},b.$locale=function(){return F[this.$L]},b.locale=function(w,E){if(!w)return this.$L;var y=this.clone(),k=$(w,E,!0);return k&&(y.$L=k),y},b.clone=function(){return P.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},v}(),R=D.prototype;return _.prototype=R,[["$ms",s],["$s",r],["$m",n],["$H",o],["$W",a],["$M",l],["$y",u],["$D",f]].forEach(function(v){R[v[1]]=function(b){return this.$g(b,v[0],v[1])}}),_.extend=function(v,b){return v.$i||(v(b,D,_),v.$i=!0),_},_.locale=$,_.isDayjs=M,_.unix=function(v){return _(1e3*v)},_.en=F[T],_.Ls=F,_.p={},_})});var cl={};To(cl,{check:()=>hl});module.exports=Do(cl);var As=zt(Es(),1);var ne=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>65536)throw new TypeError("pattern is too long")};var _o={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},oe=i=>i.replace(/[[\]\\-]/g,"\\$&"),$o=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),xs=i=>i.join(""),ks=(i,t)=>{let e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");let s=[],r=[],n=e+1,o=!1,a=!1,h=!1,l=!1,c=e,u="";t:for(;n<i.length;){let p=i.charAt(n);if((p==="!"||p==="^")&&n===e+1){l=!0,n++;continue}if(p==="]"&&o&&!h){c=n+1;break}if(o=!0,p==="\\"&&!h){h=!0,n++;continue}if(p==="["&&!h){for(let[S,[g,O,T]]of Object.entries(_o))if(i.startsWith(S,n)){if(u)return["$.",!1,i.length-e,!0];n+=S.length,T?r.push(g):s.push(g),a=a||O;continue t}}if(h=!1,u){p>u?s.push(oe(u)+"-"+oe(p)):p===u&&s.push(oe(p)),u="",n++;continue}if(i.startsWith("-]",n+1)){s.push(oe(p+"-")),n+=2;continue}if(i.startsWith("-",n+1)){u=p,n+=2;continue}s.push(oe(p)),n++}if(c<n)return["",!1,0,!1];if(!s.length&&!r.length)return["$.",!1,i.length-e,!0];if(r.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!l){let p=s[0].length===2?s[0].slice(-1):s[0];return[$o(p),!1,c-e,!1]}let f="["+(l?"^":"")+xs(s)+"]",d="["+(l?"":"^")+xs(r)+"]";return[s.length&&r.length?"("+f+"|"+d+")":s.length?f:d,a,c-e,!0]};var ut=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var jo=new Set(["!","?","+","*","@"]),Os=i=>jo.has(i),Lo="(?!(?:^|/)\\.\\.?(?:$|/))",Re="(?!\\.)",Io=new Set(["[","."]),Wo=new Set(["..","."]),qo=new Set("().*{}+?[]^$\\!"),zo=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),yi="[^/]",Ts=yi+"*?",Ds=yi+"+?",Bt=class i{type;#t;#i;#n=!1;#s=[];#a;#c;#u;#h=!1;#o;#e;#m=!1;constructor(t,e,s={}){this.type=t,t&&(this.#i=!0),this.#a=e,this.#t=this.#a?this.#a.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#u=this.#t===this?[]:this.#t.#u,t==="!"&&!this.#t.#h&&this.#u.push(this),this.#c=this.#a?this.#a.#s.length:0}get hasMagic(){if(this.#i!==void 0)return this.#i;for(let t of this.#s)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#i=!0;return this.#i}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#s.map(t=>String(t)).join("|")+")":this.#e=this.#s.map(t=>String(t)).join("")}#y(){if(this!==this.#t)throw new Error("should only call on root");if(this.#h)return this;this.toString(),this.#h=!0;let t;for(;t=this.#u.pop();){if(t.type!=="!")continue;let e=t,s=e.#a;for(;s;){for(let r=e.#c+1;!s.type&&r<s.#s.length;r++)for(let n of t.#s){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#s[r])}e=s,s=e.#a}}return this}push(...t){for(let e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof i&&e.#a===this))throw new Error("invalid part: "+e);this.#s.push(e)}}toJSON(){var e;let t=this.type===null?this.#s.slice().map(s=>typeof s=="string"?s:s.toJSON()):[this.type,...this.#s.map(s=>s.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#h&&((e=this.#a)==null?void 0:e.type)==="!")&&t.push({}),t}isStart(){var e;if(this.#t===this)return!0;if(!((e=this.#a)!=null&&e.isStart()))return!1;if(this.#c===0)return!0;let t=this.#a;for(let s=0;s<this.#c;s++){let r=t.#s[s];if(!(r instanceof i&&r.type==="!"))return!1}return!0}isEnd(){var e,s,r;if(this.#t===this||((e=this.#a)==null?void 0:e.type)==="!")return!0;if(!((s=this.#a)!=null&&s.isEnd()))return!1;if(!this.type)return(r=this.#a)==null?void 0:r.isEnd();let t=this.#a?this.#a.#s.length:0;return this.#c===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let e=new i(this.type,t);for(let s of this.#s)e.copyIn(s);return e}static#d(t,e,s,r){let n=!1,o=!1,a=-1,h=!1;if(e.type===null){let d=s,m="";for(;d<t.length;){let p=t.charAt(d++);if(n||p==="\\"){n=!n,m+=p;continue}if(o){d===a+1?(p==="^"||p==="!")&&(h=!0):p==="]"&&!(d===a+2&&h)&&(o=!1),m+=p;continue}else if(p==="["){o=!0,a=d,h=!1,m+=p;continue}if(!r.noext&&Os(p)&&t.charAt(d)==="("){e.push(m),m="";let S=new i(p,e);d=i.#d(t,S,d,r),e.push(S);continue}m+=p}return e.push(m),d}let l=s+1,c=new i(null,e),u=[],f="";for(;l<t.length;){let d=t.charAt(l++);if(n||d==="\\"){n=!n,f+=d;continue}if(o){l===a+1?(d==="^"||d==="!")&&(h=!0):d==="]"&&!(l===a+2&&h)&&(o=!1),f+=d;continue}else if(d==="["){o=!0,a=l,h=!1,f+=d;continue}if(Os(d)&&t.charAt(l)==="("){c.push(f),f="";let m=new i(d,c);c.push(m),l=i.#d(t,m,l,r);continue}if(d==="|"){c.push(f),f="",u.push(c),c=new i(null,e);continue}if(d===")")return f===""&&e.#s.length===0&&(e.#m=!0),c.push(f),f="",e.push(...u,c),l;f+=d}return e.type=null,e.#i=void 0,e.#s=[t.substring(s-1)],l}static fromGlob(t,e={}){let s=new i(null,void 0,e);return i.#d(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let t=this.toString(),[e,s,r,n]=this.toRegExpSource();if(!(r||this.#i||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;let a=(this.#o.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){var h;let e=t??!!this.#o.dot;if(this.#t===this&&this.#y(),!this.type){let l=this.isStart()&&this.isEnd(),c=this.#s.map(m=>{let[p,S,g,O]=typeof m=="string"?i.#b(m,this.#i,l):m.toRegExpSource(t);return this.#i=this.#i||g,this.#n=this.#n||O,p}).join(""),u="";if(this.isStart()&&typeof this.#s[0]=="string"&&!(this.#s.length===1&&Wo.has(this.#s[0]))){let p=Io,S=e&&p.has(c.charAt(0))||c.startsWith("\\.")&&p.has(c.charAt(2))||c.startsWith("\\.\\.")&&p.has(c.charAt(4)),g=!e&&!t&&p.has(c.charAt(0));u=S?Lo:g?Re:""}let f="";return this.isEnd()&&this.#t.#h&&((h=this.#a)==null?void 0:h.type)==="!"&&(f="(?:$|\\/)"),[u+c+f,ut(c),this.#i=!!this.#i,this.#n]}let s=this.type==="*"||this.type==="+",r=this.type==="!"?"(?:(?!(?:":"(?:",n=this.#f(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){let l=this.toString();return this.#s=[l],this.type=null,this.#i=void 0,[l,ut(this.toString()),!1,!1]}let o=!s||t||e||!Re?"":this.#f(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?Re:"")+Ds;else{let l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?Re:"")+Ts+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=r+n+l}return[a,ut(n),this.#i=!!this.#i,this.#n]}#f(t){return this.#s.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");let[s,r,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#b(t,e,s=!1){let r=!1,n="",o=!1;for(let a=0;a<t.length;a++){let h=t.charAt(a);if(r){r=!1,n+=(qo.has(h)?"\\":"")+h;continue}if(h==="\\"){a===t.length-1?n+="\\\\":r=!0;continue}if(h==="["){let[l,c,u,f]=ks(t,a);if(u){n+=l,o=o||c,a+=u-1,e=e||f;continue}}if(h==="*"){s&&t==="*"?n+=Ds:n+=Ts,e=!0;continue}if(h==="?"){n+=yi,e=!0;continue}n+=zo(h)}return[n,ut(t),!!e,o]}};var Ut=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");var V=(i,t,e={})=>(ne(t),!e.nocomment&&t.charAt(0)==="#"?!1:new rt(t,e).match(i)),Bo=/^\*+([^+@!?\*\[\(]*)$/,Uo=i=>t=>!t.startsWith(".")&&t.endsWith(i),Go=i=>t=>t.endsWith(i),Jo=i=>(i=i.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(i)),Yo=i=>(i=i.toLowerCase(),t=>t.toLowerCase().endsWith(i)),Ho=/^\*+\.\*+$/,Vo=i=>!i.startsWith(".")&&i.includes("."),Ko=i=>i!=="."&&i!==".."&&i.includes("."),Zo=/^\.\*+$/,Qo=i=>i!=="."&&i!==".."&&i.startsWith("."),Xo=/^\*+$/,ta=i=>i.length!==0&&!i.startsWith("."),ea=i=>i.length!==0&&i!=="."&&i!=="..",ia=/^\?+([^+@!?\*\[\(]*)?$/,sa=([i,t=""])=>{let e=Ps([i]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},ra=([i,t=""])=>{let e=Rs([i]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},na=([i,t=""])=>{let e=Rs([i]);return t?s=>e(s)&&s.endsWith(t):e},oa=([i,t=""])=>{let e=Ps([i]);return t?s=>e(s)&&s.endsWith(t):e},Ps=([i])=>{let t=i.length;return e=>e.length===t&&!e.startsWith(".")},Rs=([i])=>{let t=i.length;return e=>e.length===t&&e!=="."&&e!==".."},Ns=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Fs={win32:{sep:"\\"},posix:{sep:"/"}},aa=Ns==="win32"?Fs.win32.sep:Fs.posix.sep;V.sep=aa;var U=Symbol("globstar **");V.GLOBSTAR=U;var ha="[^/]",ca=ha+"*?",la="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",ua="(?:(?!(?:\\/|^)\\.).)*?",fa=(i,t={})=>e=>V(e,i,t);V.filter=fa;var at=(i,t={})=>Object.assign({},i,t),da=i=>{if(!i||typeof i!="object"||!Object.keys(i).length)return V;let t=V;return Object.assign((s,r,n={})=>t(s,r,at(i,n)),{Minimatch:class extends t.Minimatch{constructor(r,n={}){super(r,at(i,n))}static defaults(r){return t.defaults(at(i,r)).Minimatch}},AST:class extends t.AST{constructor(r,n,o={}){super(r,n,at(i,o))}static fromGlob(r,n={}){return t.AST.fromGlob(r,at(i,n))}},unescape:(s,r={})=>t.unescape(s,at(i,r)),escape:(s,r={})=>t.escape(s,at(i,r)),filter:(s,r={})=>t.filter(s,at(i,r)),defaults:s=>t.defaults(at(i,s)),makeRe:(s,r={})=>t.makeRe(s,at(i,r)),braceExpand:(s,r={})=>t.braceExpand(s,at(i,r)),match:(s,r,n={})=>t.match(s,r,at(i,n)),sep:t.sep,GLOBSTAR:U})};V.defaults=da;var Ms=(i,t={})=>(ne(i),t.nobrace||!/\{(?:(?!\{).)*\}/.test(i)?[i]:(0,As.default)(i));V.braceExpand=Ms;var pa=(i,t={})=>new rt(i,t).makeRe();V.makeRe=pa;var ma=(i,t,e={})=>{let s=new rt(t,e);return i=i.filter(r=>s.match(r)),s.options.nonull&&!i.length&&i.push(t),i};V.match=ma;var Cs=/[?*]|[+@!]\(.*?\)|\[|\]/,ga=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),rt=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){ne(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||Ns,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...n)=>console.error(...n)),this.debug(this.pattern,this.globSet);let s=this.globSet.map(n=>this.slashSplit(n));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let r=this.globParts.map((n,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let h=n[0]===""&&n[1]===""&&(n[2]==="?"||!Cs.test(n[2]))&&!Cs.test(n[3]),l=/^[a-z]:/i.test(n[0]);if(h)return[...n.slice(0,4),...n.slice(4).map(c=>this.parse(c))];if(l)return[n[0],...n.slice(1).map(c=>this.parse(c))]}return n.map(h=>this.parse(h))});if(this.debug(this.pattern,r),this.set=r.filter(n=>n.indexOf(!1)===-1),this.isWindows)for(let n=0;n<this.set.length;n++){let o=this.set[n];o[0]===""&&o[1]===""&&this.globParts[n][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let s=0;s<t.length;s++)for(let r=0;r<t[s].length;r++)t[s][r]==="**"&&(t[s][r]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let s=-1;for(;(s=e.indexOf("**",s+1))!==-1;){let r=s;for(;e[r+1]==="**";)r++;r!==s&&e.splice(s,r-s)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((s,r)=>{let n=s[s.length-1];return r==="**"&&n==="**"?s:r===".."&&n&&n!==".."&&n!=="."&&n!=="**"?(s.pop(),s):(s.push(r),s)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){let n=t[r];r===1&&n===""&&t[0]===""||(n==="."||n==="")&&(e=!0,t.splice(r,1),r--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let s=0;for(;(s=t.indexOf("..",s+1))!==-1;){let r=t[s-1];r&&r!=="."&&r!==".."&&r!=="**"&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let r=-1;for(;(r=s.indexOf("**",r+1))!==-1;){let o=r;for(;s[o+1]==="**";)o++;o>r&&s.splice(r+1,o-r);let a=s[r+1],h=s[r+2],l=s[r+3];if(a!==".."||!h||h==="."||h===".."||!l||l==="."||l==="..")continue;e=!0,s.splice(r,1);let c=s.slice(0);c[r]="**",t.push(c),r--}if(!this.preserveMultipleSlashes){for(let o=1;o<s.length-1;o++){let a=s[o];o===1&&a===""&&s[0]===""||(a==="."||a==="")&&(e=!0,s.splice(o,1),o--)}s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")&&(e=!0,s.pop())}let n=0;for(;(n=s.indexOf("..",n+1))!==-1;){let o=s[n-1];if(o&&o!=="."&&o!==".."&&o!=="**"){e=!0;let h=n===1&&s[n+1]==="**"?["."]:[];s.splice(n-1,2,...h),s.length===0&&s.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){let r=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);r&&(t[e]=r,t[s]=[])}return t.filter(e=>e.length)}partsMatch(t,e,s=!1){let r=0,n=0,o=[],a="";for(;r<t.length&&n<e.length;)if(t[r]===e[n])o.push(a==="b"?e[n]:t[r]),r++,n++;else if(s&&t[r]==="**"&&e[n]===t[r+1])o.push(t[r]),r++;else if(s&&e[n]==="**"&&t[r]===e[n+1])o.push(e[n]),n++;else if(t[r]==="*"&&e[n]&&(this.options.dot||!e[n].startsWith("."))&&e[n]!=="**"){if(a==="b")return!1;a="a",o.push(t[r]),r++,n++}else if(e[n]==="*"&&t[r]&&(this.options.dot||!t[r].startsWith("."))&&t[r]!=="**"){if(a==="a")return!1;a="b",o.push(e[n]),r++,n++}else return!1;return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,s=0;for(let r=0;r<t.length&&t.charAt(r)==="!";r++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,e,s=!1){let r=this.options;if(this.isWindows){let p=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),S=!p&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),g=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),O=!g&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),T=S?3:p?0:void 0,F=O?3:g?0:void 0;if(typeof T=="number"&&typeof F=="number"){let[M,$]=[t[T],e[F]];M.toLowerCase()===$.toLowerCase()&&(e[F]=M,F>T?e=e.slice(F):T>F&&(t=t.slice(T)))}}let{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,a=0,h=t.length,l=e.length;o<h&&a<l;o++,a++){this.debug("matchOne loop");var c=e[a],u=t[o];if(this.debug(e,c,u),c===!1)return!1;if(c===U){this.debug("GLOBSTAR",[e,c,u]);var f=o,d=a+1;if(d===l){for(this.debug("** at the end");o<h;o++)if(t[o]==="."||t[o]===".."||!r.dot&&t[o].charAt(0)===".")return!1;return!0}for(;f<h;){var m=t[f];if(this.debug(`
globstar while`,t,f,e,d,m),this.matchOne(t.slice(f),e.slice(d),s))return this.debug("globstar found match!",f,h,m),!0;if(m==="."||m===".."||!r.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,f,e,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(s&&(this.debug(`
>>> no match, partial?`,t,f,e,d),f===h))}let p;if(typeof c=="string"?(p=u===c,this.debug("string match",c,u,p)):(p=c.test(u),this.debug("pattern match",c,u,p)),!p)return!1}if(o===h&&a===l)return!0;if(o===h)return s;if(a===l)return o===h-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return Ms(this.pattern,this.options)}parse(t){ne(t);let e=this.options;if(t==="**")return U;if(t==="")return"";let s,r=null;(s=t.match(Xo))?r=e.dot?ea:ta:(s=t.match(Bo))?r=(e.nocase?e.dot?Yo:Jo:e.dot?Go:Uo)(s[1]):(s=t.match(ia))?r=(e.nocase?e.dot?ra:sa:e.dot?na:oa)(s):(s=t.match(Ho))?r=e.dot?Ko:Vo:(s=t.match(Zo))&&(r=Qo);let n=Bt.fromGlob(t,this.options).toMMPattern();return r?Object.assign(n,{test:r}):n}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,s=e.noglobstar?ca:e.dot?la:ua,r=new Set(e.nocase?["i"]:[]),n=t.map(h=>{let l=h.map(c=>{if(c instanceof RegExp)for(let u of c.flags.split(""))r.add(u);return typeof c=="string"?ga(c):c===U?U:c._src});return l.forEach((c,u)=>{let f=l[u+1],d=l[u-1];c!==U||d===U||(d===void 0?f!==void 0&&f!==U?l[u+1]="(?:\\/|"+s+"\\/)?"+f:l[u]=s:f===void 0?l[u-1]=d+"(?:\\/|"+s+")?":f!==U&&(l[u-1]=d+"(?:\\/|\\/"+s+"\\/)"+f,l[u+1]=U))}),l.filter(c=>c!==U).join("/")}).join("|"),[o,a]=t.length>1?["(?:",")"]:["",""];n="^"+o+n+a+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...r].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;let s=this.options;this.isWindows&&(t=t.split("\\").join("/"));let r=this.slashSplit(t);this.debug(this.pattern,"split",r);let n=this.set;this.debug(this.pattern,"set",n);let o=r[r.length-1];if(!o)for(let a=r.length-2;!o&&a>=0;a--)o=r[a];for(let a=0;a<n.length;a++){let h=n[a],l=r;if(s.matchBase&&h.length===1&&(l=[o]),this.matchOne(l,h,e))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(t){return V.defaults(t).Minimatch}};V.AST=Bt;V.Minimatch=rt;V.escape=Ut;V.unescape=ut;var ae=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,js=new Set,wi=typeof process=="object"&&process?process:{},Ls=(i,t,e,s)=>{typeof wi.emitWarning=="function"?wi.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)},Ne=globalThis.AbortController,_s=globalThis.AbortSignal,$s;if(typeof Ne>"u"){_s=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,r){this._onabort.push(r)}},Ne=class{constructor(){t()}signal=new _s;abort(s){var r,n;if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(let o of this.signal._onabort)o(s);(n=(r=this.signal).onabort)==null||n.call(r,s)}}};let i=(($s=wi.env)==null?void 0:$s.LRU_CACHE_IGNORE_AC_WARNING)!=="1",t=()=>{i&&(i=!1,Ls("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var ya=i=>!js.has(i),Rl=Symbol("type"),Ot=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Is=i=>Ot(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?Gt:null:null,Gt=class extends Array{constructor(t){super(t),this.fill(0)}},Si=class i{heap;length;static#t=!1;static create(t){let e=Is(t);if(!e)return[];i.#t=!0;let s=new i(t,e);return i.#t=!1,s}constructor(t,e){if(!i.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},he=class i{#t;#i;#n;#s;#a;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#u;#h;#o;#e;#m;#y;#d;#f;#b;#g;#F;#C;#k;#S;#T;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#k,sizes:t.#F,keyMap:t.#h,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#y,get head(){return t.#d},get tail(){return t.#f},free:t.#b,isBackgroundFetch:e=>t.#l(e),backgroundFetch:(e,s,r,n)=>t.#M(e,s,r,n),moveToTail:e=>t.#N(e),indexes:e=>t.#x(e),rindexes:e=>t.#D(e),isStale:e=>t.#w(e)}}get max(){return this.#t}get maxSize(){return this.#i}get calculatedSize(){return this.#u}get size(){return this.#c}get fetchMethod(){return this.#a}get dispose(){return this.#n}get disposeAfter(){return this.#s}constructor(t){let{max:e=0,ttl:s,ttlResolution:r=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:h,dispose:l,disposeAfter:c,noDisposeOnSet:u,noUpdateTTL:f,maxSize:d=0,maxEntrySize:m=0,sizeCalculation:p,fetchMethod:S,noDeleteOnFetchRejection:g,noDeleteOnStaleGet:O,allowStaleOnFetchRejection:T,allowStaleOnFetchAbort:F,ignoreFetchAbort:M}=t;if(e!==0&&!Ot(e))throw new TypeError("max option must be a nonnegative integer");let $=e?Is(e):Array;if(!$)throw new Error("invalid max value: "+e);if(this.#t=e,this.#i=d,this.maxEntrySize=m||this.#i,this.sizeCalculation=p,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#a=S,this.#T=!!S,this.#h=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new $(e),this.#y=new $(e),this.#d=0,this.#f=0,this.#b=Si.create(e),this.#c=0,this.#u=0,typeof l=="function"&&(this.#n=l),typeof c=="function"?(this.#s=c,this.#g=[]):(this.#s=void 0,this.#g=void 0),this.#S=!!this.#n,this.#p=!!this.#s,this.noDisposeOnSet=!!u,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!g,this.allowStaleOnFetchRejection=!!T,this.allowStaleOnFetchAbort=!!F,this.ignoreFetchAbort=!!M,this.maxEntrySize!==0){if(this.#i!==0&&!Ot(this.#i))throw new TypeError("maxSize must be a positive integer if specified");if(!Ot(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#P()}if(this.allowStale=!!h,this.noDeleteOnStaleGet=!!O,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Ot(r)||r===0?r:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!Ot(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#A()}if(this.#t===0&&this.ttl===0&&this.#i===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#i){let _="LRU_CACHE_UNBOUNDED";ya(_)&&(js.add(_),Ls("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",_,i))}}getRemainingTTL(t){return this.#h.has(t)?1/0:0}#A(){let t=new Gt(this.#t),e=new Gt(this.#t);this.#k=t,this.#C=e,this.#r=(n,o,a=ae.now())=>{if(e[n]=o!==0?a:0,t[n]=o,o!==0&&this.ttlAutopurge){let h=setTimeout(()=>{this.#w(n)&&this.delete(this.#o[n])},o+1);h.unref&&h.unref()}},this.#O=n=>{e[n]=t[n]!==0?ae.now():0},this.#v=(n,o)=>{if(t[o]){let a=t[o],h=e[o];n.ttl=a,n.start=h,n.now=s||r();let l=n.now-h;n.remainingTTL=a-l}};let s=0,r=()=>{let n=ae.now();if(this.ttlResolution>0){s=n;let o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{let o=this.#h.get(n);if(o===void 0)return 0;let a=t[o],h=e[o];if(a===0||h===0)return 1/0;let l=(s||r())-h;return a-l},this.#w=n=>t[n]!==0&&e[n]!==0&&(s||r())-e[n]>t[n]}#O=()=>{};#v=()=>{};#r=()=>{};#w=()=>!1;#P(){let t=new Gt(this.#t);this.#u=0,this.#F=t,this.#E=e=>{this.#u-=t[e],t[e]=0},this.#$=(e,s,r,n)=>{if(this.#l(s))return 0;if(!Ot(r))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(r=n(s,e),!Ot(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r},this.#_=(e,s,r)=>{if(t[e]=s,this.#i){let n=this.#i-t[e];for(;this.#u>n;)this.#R(!0)}this.#u+=t[e],r&&(r.entrySize=s,r.totalCalculatedSize=this.#u)}}#E=t=>{};#_=(t,e,s)=>{};#$=(t,e,s,r)=>{if(s||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#x({allowStale:t=this.allowStale}={}){if(this.#c)for(let e=this.#f;!(!this.#j(e)||((t||!this.#w(e))&&(yield e),e===this.#d));)e=this.#y[e]}*#D({allowStale:t=this.allowStale}={}){if(this.#c)for(let e=this.#d;!(!this.#j(e)||((t||!this.#w(e))&&(yield e),e===this.#f));)e=this.#m[e]}#j(t){return t!==void 0&&this.#h.get(this.#o[t])===t}*entries(){for(let t of this.#x())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#l(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(let t of this.#D())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#l(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(let t of this.#x()){let e=this.#o[t];e!==void 0&&!this.#l(this.#e[t])&&(yield e)}}*rkeys(){for(let t of this.#D()){let e=this.#o[t];e!==void 0&&!this.#l(this.#e[t])&&(yield e)}}*values(){for(let t of this.#x())this.#e[t]!==void 0&&!this.#l(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(let t of this.#D())this.#e[t]!==void 0&&!this.#l(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(let s of this.#x()){let r=this.#e[s],n=this.#l(r)?r.__staleWhileFetching:r;if(n!==void 0&&t(n,this.#o[s],this))return this.get(this.#o[s],e)}}forEach(t,e=this){for(let s of this.#x()){let r=this.#e[s],n=this.#l(r)?r.__staleWhileFetching:r;n!==void 0&&t.call(e,n,this.#o[s],this)}}rforEach(t,e=this){for(let s of this.#D()){let r=this.#e[s],n=this.#l(r)?r.__staleWhileFetching:r;n!==void 0&&t.call(e,n,this.#o[s],this)}}purgeStale(){let t=!1;for(let e of this.#D({allowStale:!0}))this.#w(e)&&(this.delete(this.#o[e]),t=!0);return t}dump(){let t=[];for(let e of this.#x({allowStale:!0})){let s=this.#o[e],r=this.#e[e],n=this.#l(r)?r.__staleWhileFetching:r;if(n===void 0||s===void 0)continue;let o={value:n};if(this.#k&&this.#C){o.ttl=this.#k[e];let a=ae.now()-this.#C[e];o.start=Math.floor(Date.now()-a)}this.#F&&(o.size=this.#F[e]),t.unshift([s,o])}return t}load(t){this.clear();for(let[e,s]of t){if(s.start){let r=Date.now()-s.start;s.start=ae.now()-r}this.set(e,s.value,s)}}set(t,e,s={}){var f,d,m,p,S;if(e===void 0)return this.delete(t),this;let{ttl:r=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:h}=s,{noUpdateTTL:l=this.noUpdateTTL}=s,c=this.#$(t,e,s.size||0,a);if(this.maxEntrySize&&c>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),this.delete(t),this;let u=this.#c===0?void 0:this.#h.get(t);if(u===void 0)u=this.#c===0?this.#f:this.#b.length!==0?this.#b.pop():this.#c===this.#t?this.#R(!1):this.#c,this.#o[u]=t,this.#e[u]=e,this.#h.set(t,u),this.#m[this.#f]=u,this.#y[u]=this.#f,this.#f=u,this.#c++,this.#_(u,c,h),h&&(h.set="add"),l=!1;else{this.#N(u);let g=this.#e[u];if(e!==g){if(this.#T&&this.#l(g)){g.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:O}=g;O!==void 0&&!o&&(this.#S&&((f=this.#n)==null||f.call(this,O,t,"set")),this.#p&&((d=this.#g)==null||d.push([O,t,"set"])))}else o||(this.#S&&((m=this.#n)==null||m.call(this,g,t,"set")),this.#p&&((p=this.#g)==null||p.push([g,t,"set"])));if(this.#E(u),this.#_(u,c,h),this.#e[u]=e,h){h.set="replace";let O=g&&this.#l(g)?g.__staleWhileFetching:g;O!==void 0&&(h.oldValue=O)}}else h&&(h.set="update")}if(r!==0&&!this.#k&&this.#A(),this.#k&&(l||this.#r(u,r,n),h&&this.#v(h,u)),!o&&this.#p&&this.#g){let g=this.#g,O;for(;O=g==null?void 0:g.shift();)(S=this.#s)==null||S.call(this,...O)}return this}pop(){var t;try{for(;this.#c;){let e=this.#e[this.#d];if(this.#R(!0),this.#l(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#p&&this.#g){let e=this.#g,s;for(;s=e==null?void 0:e.shift();)(t=this.#s)==null||t.call(this,...s)}}}#R(t){var n,o;let e=this.#d,s=this.#o[e],r=this.#e[e];return this.#T&&this.#l(r)?r.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&((n=this.#n)==null||n.call(this,r,s,"evict")),this.#p&&((o=this.#g)==null||o.push([r,s,"evict"]))),this.#E(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#b.push(e)),this.#c===1?(this.#d=this.#f=0,this.#b.length=0):this.#d=this.#m[e],this.#h.delete(s),this.#c--,e}has(t,e={}){let{updateAgeOnHas:s=this.updateAgeOnHas,status:r}=e,n=this.#h.get(t);if(n!==void 0){let o=this.#e[n];if(this.#l(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#w(n))r&&(r.has="stale",this.#v(r,n));else return s&&this.#O(n),r&&(r.has="hit",this.#v(r,n)),!0}else r&&(r.has="miss");return!1}peek(t,e={}){let{allowStale:s=this.allowStale}=e,r=this.#h.get(t);if(r!==void 0&&(s||!this.#w(r))){let n=this.#e[r];return this.#l(n)?n.__staleWhileFetching:n}}#M(t,e,s,r){let n=e===void 0?void 0:this.#e[e];if(this.#l(n))return n;let o=new Ne,{signal:a}=s;a==null||a.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let h={signal:o.signal,options:s,context:r},l=(p,S=!1)=>{let{aborted:g}=o.signal,O=s.ignoreFetchAbort&&p!==void 0;if(s.status&&(g&&!S?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,O&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),g&&!O&&!S)return u(o.signal.reason);let T=d;return this.#e[e]===d&&(p===void 0?T.__staleWhileFetching?this.#e[e]=T.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,p,h.options))),p},c=p=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=p),u(p)),u=p=>{let{aborted:S}=o.signal,g=S&&s.allowStaleOnFetchAbort,O=g||s.allowStaleOnFetchRejection,T=O||s.noDeleteOnFetchRejection,F=d;if(this.#e[e]===d&&(!T||F.__staleWhileFetching===void 0?this.delete(t):g||(this.#e[e]=F.__staleWhileFetching)),O)return s.status&&F.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),F.__staleWhileFetching;if(F.__returned===F)throw p},f=(p,S)=>{var O;let g=(O=this.#a)==null?void 0:O.call(this,t,n,h);g&&g instanceof Promise&&g.then(T=>p(T===void 0?void 0:T),S),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(p(void 0),s.allowStaleOnFetchAbort&&(p=T=>l(T,!0)))})};s.status&&(s.status.fetchDispatched=!0);let d=new Promise(f).then(l,c),m=Object.assign(d,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,m,{...h.options,status:void 0}),e=this.#h.get(t)):this.#e[e]=m,m}#l(t){if(!this.#T)return!1;let e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof Ne}async fetch(t,e={}){let{allowStale:s=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:h=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:f=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:p,forceRefresh:S=!1,status:g,signal:O}=e;if(!this.#T)return g&&(g.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:r,noDeleteOnStaleGet:n,status:g});let T={allowStale:s,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:a,size:h,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:f,allowStaleOnFetchAbort:m,ignoreFetchAbort:d,status:g,signal:O},F=this.#h.get(t);if(F===void 0){g&&(g.fetch="miss");let M=this.#M(t,F,T,p);return M.__returned=M}else{let M=this.#e[F];if(this.#l(M)){let R=s&&M.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",R&&(g.returnedStale=!0)),R?M.__staleWhileFetching:M.__returned=M}let $=this.#w(F);if(!S&&!$)return g&&(g.fetch="hit"),this.#N(F),r&&this.#O(F),g&&this.#v(g,F),M;let _=this.#M(t,F,T,p),D=_.__staleWhileFetching!==void 0&&s;return g&&(g.fetch=$?"stale":"refresh",D&&$&&(g.returnedStale=!0)),D?_.__staleWhileFetching:_.__returned=_}}get(t,e={}){let{allowStale:s=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,a=this.#h.get(t);if(a!==void 0){let h=this.#e[a],l=this.#l(h);return o&&this.#v(o,a),this.#w(a)?(o&&(o.get="stale"),l?(o&&s&&h.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?h.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?h:void 0)):(o&&(o.get="hit"),l?h.__staleWhileFetching:(this.#N(a),r&&this.#O(a),h))}else o&&(o.get="miss")}#L(t,e){this.#y[e]=t,this.#m[t]=e}#N(t){t!==this.#f&&(t===this.#d?this.#d=this.#m[t]:this.#L(this.#y[t],this.#m[t]),this.#L(this.#f,t),this.#f=t)}delete(t){var s,r,n,o;let e=!1;if(this.#c!==0){let a=this.#h.get(t);if(a!==void 0)if(e=!0,this.#c===1)this.clear();else{this.#E(a);let h=this.#e[a];this.#l(h)?h.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&((s=this.#n)==null||s.call(this,h,t,"delete")),this.#p&&((r=this.#g)==null||r.push([h,t,"delete"]))),this.#h.delete(t),this.#o[a]=void 0,this.#e[a]=void 0,a===this.#f?this.#f=this.#y[a]:a===this.#d?this.#d=this.#m[a]:(this.#m[this.#y[a]]=this.#m[a],this.#y[this.#m[a]]=this.#y[a]),this.#c--,this.#b.push(a)}}if(this.#p&&((n=this.#g)!=null&&n.length)){let a=this.#g,h;for(;h=a==null?void 0:a.shift();)(o=this.#s)==null||o.call(this,...h)}return e}clear(){var t,e,s;for(let r of this.#D({allowStale:!0})){let n=this.#e[r];if(this.#l(n))n.__abortController.abort(new Error("deleted"));else{let o=this.#o[r];this.#S&&((t=this.#n)==null||t.call(this,n,o,"delete")),this.#p&&((e=this.#g)==null||e.push([n,o,"delete"]))}}if(this.#h.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#k&&this.#C&&(this.#k.fill(0),this.#C.fill(0)),this.#F&&this.#F.fill(0),this.#d=0,this.#f=0,this.#b.length=0,this.#u=0,this.#c=0,this.#p&&this.#g){let r=this.#g,n;for(;n=r==null?void 0:r.shift();)(s=this.#s)==null||s.call(this,...n)}}};var Ht=require("path"),Vs=require("url"),Da=zt(require("fs"),1),St=require("fs"),Ft=require("fs/promises");var We=require("events"),Ti=zt(require("stream"),1),Us=require("string_decoder"),Ws=typeof process=="object"&&process?process:{stdout:null,stderr:null},wa=i=>!!i&&typeof i=="object"&&(i instanceof Dt||i instanceof Ti.default||Sa(i)||ba(i)),Sa=i=>!!i&&typeof i=="object"&&i instanceof We.EventEmitter&&typeof i.pipe=="function"&&i.pipe!==Ti.default.Writable.prototype.pipe,ba=i=>!!i&&typeof i=="object"&&i instanceof We.EventEmitter&&typeof i.write=="function"&&typeof i.end=="function",bt=Symbol("EOF"),vt=Symbol("maybeEmitEnd"),Tt=Symbol("emittedEnd"),Me=Symbol("emittingEnd"),ce=Symbol("emittedError"),_e=Symbol("closed"),qs=Symbol("read"),$e=Symbol("flush"),zs=Symbol("flushChunk"),ft=Symbol("encoding"),Jt=Symbol("decoder"),W=Symbol("flowing"),le=Symbol("paused"),Yt=Symbol("resume"),q=Symbol("buffer"),K=Symbol("pipes"),z=Symbol("bufferLength"),bi=Symbol("bufferPush"),je=Symbol("bufferShift"),Y=Symbol("objectMode"),L=Symbol("destroyed"),vi=Symbol("error"),Ei=Symbol("emitData"),Bs=Symbol("emitEnd"),xi=Symbol("emitEnd2"),yt=Symbol("async"),ki=Symbol("abort"),Le=Symbol("aborted"),ue=Symbol("signal"),$t=Symbol("dataListeners"),nt=Symbol("discarded"),fe=i=>Promise.resolve().then(i),va=i=>i(),Ea=i=>i==="end"||i==="finish"||i==="prefinish",xa=i=>i instanceof ArrayBuffer||!!i&&typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,ka=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i),Ie=class{src;dest;opts;ondrain;constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Yt](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Oi=class extends Ie{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=r=>e.emit("error",r),t.on("error",this.proxyErrors)}},Oa=i=>!!i.objectMode,Ta=i=>!i.objectMode&&!!i.encoding&&i.encoding!=="buffer",Dt=class extends We.EventEmitter{[W]=!1;[le]=!1;[K]=[];[q]=[];[Y];[ft];[yt];[Jt];[bt]=!1;[Tt]=!1;[Me]=!1;[_e]=!1;[ce]=null;[z]=0;[L]=!1;[ue];[Le]=!1;[$t]=0;[nt]=!1;writable=!0;readable=!0;constructor(...t){let e=t[0]||{};if(super(),e.objectMode&&typeof e.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Oa(e)?(this[Y]=!0,this[ft]=null):Ta(e)?(this[ft]=e.encoding,this[Y]=!1):(this[Y]=!1,this[ft]=null),this[yt]=!!e.async,this[Jt]=this[ft]?new Us.StringDecoder(this[ft]):null,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[q]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[K]});let{signal:s}=e;s&&(this[ue]=s,s.aborted?this[ki]():s.addEventListener("abort",()=>this[ki]()))}get bufferLength(){return this[z]}get encoding(){return this[ft]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Y]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[yt]}set async(t){this[yt]=this[yt]||!!t}[ki](){var t,e;this[Le]=!0,this.emit("abort",(t=this[ue])==null?void 0:t.reason),this.destroy((e=this[ue])==null?void 0:e.reason)}get aborted(){return this[Le]}set aborted(t){}write(t,e,s){var n;if(this[Le])return!1;if(this[bt])throw new Error("write after end");if(this[L])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");let r=this[yt]?fe:va;if(!this[Y]&&!Buffer.isBuffer(t)){if(ka(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(xa(t))t=Buffer.from(t);else if(typeof t!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Y]?(this[W]&&this[z]!==0&&this[$e](!0),this[W]?this.emit("data",t):this[bi](t),this[z]!==0&&this.emit("readable"),s&&r(s),this[W]):t.length?(typeof t=="string"&&!(e===this[ft]&&!((n=this[Jt])!=null&&n.lastNeed))&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[ft]&&(t=this[Jt].write(t)),this[W]&&this[z]!==0&&this[$e](!0),this[W]?this.emit("data",t):this[bi](t),this[z]!==0&&this.emit("readable"),s&&r(s),this[W]):(this[z]!==0&&this.emit("readable"),s&&r(s),this[W])}read(t){if(this[L])return null;if(this[nt]=!1,this[z]===0||t===0||t&&t>this[z])return this[vt](),null;this[Y]&&(t=null),this[q].length>1&&!this[Y]&&(this[q]=[this[ft]?this[q].join(""):Buffer.concat(this[q],this[z])]);let e=this[qs](t||null,this[q][0]);return this[vt](),e}[qs](t,e){if(this[Y])this[je]();else{let s=e;t===s.length||t===null?this[je]():typeof s=="string"?(this[q][0]=s.slice(t),e=s.slice(0,t),this[z]-=t):(this[q][0]=s.subarray(t),e=s.subarray(0,t),this[z]-=t)}return this.emit("data",e),!this[q].length&&!this[bt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=void 0),typeof e=="function"&&(s=e,e="utf8"),t!==void 0&&this.write(t,e),s&&this.once("end",s),this[bt]=!0,this.writable=!1,(this[W]||!this[le])&&this[vt](),this}[Yt](){this[L]||(!this[$t]&&!this[K].length&&(this[nt]=!0),this[le]=!1,this[W]=!0,this.emit("resume"),this[q].length?this[$e]():this[bt]?this[vt]():this.emit("drain"))}resume(){return this[Yt]()}pause(){this[W]=!1,this[le]=!0,this[nt]=!1}get destroyed(){return this[L]}get flowing(){return this[W]}get paused(){return this[le]}[bi](t){this[Y]?this[z]+=1:this[z]+=t.length,this[q].push(t)}[je](){return this[Y]?this[z]-=1:this[z]-=this[q][0].length,this[q].shift()}[$e](t=!1){do;while(this[zs](this[je]())&&this[q].length);!t&&!this[q].length&&!this[bt]&&this.emit("drain")}[zs](t){return this.emit("data",t),this[W]}pipe(t,e){if(this[L])return t;this[nt]=!1;let s=this[Tt];return e=e||{},t===Ws.stdout||t===Ws.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[K].push(e.proxyErrors?new Oi(this,t,e):new Ie(this,t,e)),this[yt]?fe(()=>this[Yt]()):this[Yt]()),t}unpipe(t){let e=this[K].find(s=>s.dest===t);e&&(this[K].length===1?(this[W]&&this[$t]===0&&(this[W]=!1),this[K]=[]):this[K].splice(this[K].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let s=super.on(t,e);if(t==="data")this[nt]=!1,this[$t]++,!this[K].length&&!this[W]&&this[Yt]();else if(t==="readable"&&this[z]!==0)super.emit("readable");else if(Ea(t)&&this[Tt])super.emit(t),this.removeAllListeners(t);else if(t==="error"&&this[ce]){let r=e;this[yt]?fe(()=>r.call(this,this[ce])):r.call(this,this[ce])}return s}removeListener(t,e){return this.off(t,e)}off(t,e){let s=super.off(t,e);return t==="data"&&(this[$t]=this.listeners("data").length,this[$t]===0&&!this[nt]&&!this[K].length&&(this[W]=!1)),s}removeAllListeners(t){let e=super.removeAllListeners(t);return(t==="data"||t===void 0)&&(this[$t]=0,!this[nt]&&!this[K].length&&(this[W]=!1)),e}get emittedEnd(){return this[Tt]}[vt](){!this[Me]&&!this[Tt]&&!this[L]&&this[q].length===0&&this[bt]&&(this[Me]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_e]&&this.emit("close"),this[Me]=!1)}emit(t,...e){let s=e[0];if(t!=="error"&&t!=="close"&&t!==L&&this[L])return!1;if(t==="data")return!this[Y]&&!s?!1:this[yt]?(fe(()=>this[Ei](s)),!0):this[Ei](s);if(t==="end")return this[Bs]();if(t==="close"){if(this[_e]=!0,!this[Tt]&&!this[L])return!1;let n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[ce]=s,super.emit(vi,s);let n=!this[ue]||this.listeners("error").length?super.emit("error",s):!1;return this[vt](),n}else if(t==="resume"){let n=super.emit("resume");return this[vt](),n}else if(t==="finish"||t==="prefinish"){let n=super.emit(t);return this.removeAllListeners(t),n}let r=super.emit(t,...e);return this[vt](),r}[Ei](t){for(let s of this[K])s.dest.write(t)===!1&&this.pause();let e=this[nt]?!1:super.emit("data",t);return this[vt](),e}[Bs](){return this[Tt]?!1:(this[Tt]=!0,this.readable=!1,this[yt]?(fe(()=>this[xi]()),!0):this[xi]())}[xi](){if(this[Jt]){let e=this[Jt].end();if(e){for(let s of this[K])s.dest.write(e);this[nt]||super.emit("data",e)}}for(let e of this[K])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){let t=Object.assign([],{dataLength:0});this[Y]||(t.dataLength=0);let e=this.promise();return this.on("data",s=>{t.push(s),this[Y]||(t.dataLength+=s.length)}),await e,t}async concat(){if(this[Y])throw new Error("cannot concat in objectMode");let t=await this.collect();return this[ft]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(L,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[nt]=!1;let t=!1,e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[bt])return e();let n,o,a=u=>{this.off("data",h),this.off("end",l),this.off(L,c),e(),o(u)},h=u=>{this.off("error",a),this.off("end",l),this.off(L,c),this.pause(),n({value:u,done:!!this[bt]})},l=()=>{this.off("error",a),this.off("data",h),this.off(L,c),e(),n({done:!0,value:void 0})},c=()=>a(new Error("stream destroyed"));return new Promise((u,f)=>{o=f,n=u,this.once(L,c),this.once("error",a),this.once("end",l),this.once("data",h)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[nt]=!1;let t=!1,e=()=>(this.pause(),this.off(vi,e),this.off(L,e),this.off("end",e),t=!0,{done:!0,value:void 0}),s=()=>{if(t)return e();let r=this.read();return r===null?e():{done:!1,value:r}};return this.once("end",e),this.once(vi,e),this.once(L,e),{next:s,throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[L])return t?this.emit("error",t):this.emit(L),this;this[L]=!0,this[nt]=!0,this[q].length=0,this[z]=0;let e=this;return typeof e.close=="function"&&!this[_e]&&e.close(),t?this.emit("error",t):this.emit(L),this}static get isStream(){return wa}};var Fa=St.realpathSync.native,pe={lstatSync:St.lstatSync,readdir:St.readdir,readdirSync:St.readdirSync,readlinkSync:St.readlinkSync,realpathSync:Fa,promises:{lstat:Ft.lstat,readdir:Ft.readdir,readlink:Ft.readlink,realpath:Ft.realpath}},Ks=i=>!i||i===pe||i===Da?pe:{...pe,...i,promises:{...pe.promises,...i.promises||{}}},Zs=/^\\\\\?\\([a-z]:)\\?$/i,Ca=i=>i.replace(/\//g,"\\").replace(Zs,"$1\\"),Aa=/[\\\/]/,ct=0,Qs=1,Xs=2,wt=4,tr=6,er=8,jt=10,ir=12,ht=15,de=~ht,Di=16,Gs=32,me=64,dt=128,qe=256,Be=512,Js=me|dt|Be,Pa=1023,Fi=i=>i.isFile()?er:i.isDirectory()?wt:i.isSymbolicLink()?jt:i.isCharacterDevice()?Xs:i.isBlockDevice()?tr:i.isSocket()?ir:i.isFIFO()?Qs:ct,Ys=new Map,ge=i=>{let t=Ys.get(i);if(t)return t;let e=i.normalize("NFKD");return Ys.set(i,e),e},Hs=new Map,ze=i=>{let t=Hs.get(i);if(t)return t;let e=ge(i.toLowerCase());return Hs.set(i,e),e},Ue=class extends he{constructor(){super({max:256})}},Ci=class extends he{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}},sr=Symbol("PathScurry setAsCwd"),H=class{name;root;roots;parent;nocase;#t;#i;get dev(){return this.#i}#n;get mode(){return this.#n}#s;get nlink(){return this.#s}#a;get uid(){return this.#a}#c;get gid(){return this.#c}#u;get rdev(){return this.#u}#h;get blksize(){return this.#h}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#y;get atimeMs(){return this.#y}#d;get mtimeMs(){return this.#d}#f;get ctimeMs(){return this.#f}#b;get birthtimeMs(){return this.#b}#g;get atime(){return this.#g}#F;get mtime(){return this.#F}#C;get ctime(){return this.#C}#k;get birthtime(){return this.#k}#S;#T;#p;#A;#O;#v;#r;#w;#P;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=ct,s,r,n,o,a){this.name=t,this.#S=n?ze(t):ge(t),this.#r=e&Pa,this.nocase=n,this.roots=r,this.root=s||this,this.#w=o,this.#p=a.fullpath,this.#O=a.relative,this.#v=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=Ks(a.fs)}depth(){return this.#T!==void 0?this.#T:this.parent?this.#T=this.parent.depth()+1:this.#T=0}childrenCache(){return this.#w}resolve(t){if(!t)return this;let e=this.getRootString(t),r=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#_(r):this.#_(r)}#_(t){let e=this;for(let s of t)e=e.child(s);return e}children(){let t=this.#w.get(this);if(t)return t;let e=Object.assign([],{provisional:0});return this.#w.set(this,e),this.#r&=~Di,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let s=this.children(),r=this.nocase?ze(t):ge(t);for(let h of s)if(h.#S===r)return h;let n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,a=this.newChild(t,ct,{...e,parent:this,fullpath:o});return this.canReaddir()||(a.#r|=dt),s.push(a),a}relative(){if(this.#O!==void 0)return this.#O;let t=this.name,e=this.parent;if(!e)return this.#O=this.name;let s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;let t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();let s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;let t=this.name,e=this.parent;if(!e)return this.#p=this.name;let r=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=r}fullpathPosix(){if(this.#A!==void 0)return this.#A;if(this.sep==="/")return this.#A=this.fullpath();if(!this.parent){let r=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(r)?this.#A=`//?/${r}`:this.#A=r}let t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#A=s}isUnknown(){return(this.#r&ht)===ct}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&ht)===er}isDirectory(){return(this.#r&ht)===wt}isCharacterDevice(){return(this.#r&ht)===Xs}isBlockDevice(){return(this.#r&ht)===tr}isFIFO(){return(this.#r&ht)===Qs}isSocket(){return(this.#r&ht)===ir}isSymbolicLink(){return(this.#r&jt)===jt}lstatCached(){return this.#r&Gs?this:void 0}readlinkCached(){return this.#P}realpathCached(){return this.#E}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#P)return!0;if(!this.parent)return!1;let t=this.#r&ht;return!(t!==ct&&t!==jt||this.#r&qe||this.#r&dt)}calledReaddir(){return!!(this.#r&Di)}isENOENT(){return!!(this.#r&dt)}isNamed(t){return this.nocase?this.#S===ze(t):this.#S===ge(t)}async readlink(){let t=this.#P;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=await this.#t.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#P=s}catch(e){this.#L(e.code);return}}readlinkSync(){let t=this.#P;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=this.#t.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#P=s}catch(e){this.#L(e.code);return}}#$(t){this.#r|=Di;for(let e=t.provisional;e<t.length;e++)t[e].#x()}#x(){this.#r&dt||(this.#r=(this.#r|dt)&de,this.#D())}#D(){let t=this.children();t.provisional=0;for(let e of t)e.#x()}#j(){this.#r|=Be,this.#R()}#R(){if(this.#r&me)return;let t=this.#r;(t&ht)===wt&&(t&=de),this.#r=t|me,this.#D()}#M(t=""){t==="ENOTDIR"||t==="EPERM"?this.#R():t==="ENOENT"?this.#x():this.children().provisional=0}#l(t=""){t==="ENOTDIR"?this.parent.#R():t==="ENOENT"&&this.#x()}#L(t=""){let e=this.#r;e|=qe,t==="ENOENT"&&(e|=dt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=de),this.#r=e,t==="ENOTDIR"&&this.parent&&this.parent.#R()}#N(t,e){return this.#U(t,e)||this.#B(t,e)}#B(t,e){let s=Fi(t),r=this.newChild(t.name,s,{parent:this}),n=r.#r&ht;return n!==wt&&n!==jt&&n!==ct&&(r.#r|=me),e.unshift(r),e.provisional++,r}#U(t,e){for(let s=e.provisional;s<e.length;s++){let r=e[s];if((this.nocase?ze(t.name):ge(t.name))===r.#S)return this.#G(t,r,s,e)}}#G(t,e,s,r){let n=e.name;return e.#r=e.#r&de|Fi(t),n!==t.name&&(e.name=t.name),s!==r.provisional&&(s===r.length-1?r.pop():r.splice(s,1),r.unshift(e)),r.provisional++,e}async lstat(){if(!(this.#r&dt))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#l(t.code)}}lstatSync(){if(!(this.#r&dt))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#l(t.code)}}#z(t){let{atime:e,atimeMs:s,birthtime:r,birthtimeMs:n,blksize:o,blocks:a,ctime:h,ctimeMs:l,dev:c,gid:u,ino:f,mode:d,mtime:m,mtimeMs:p,nlink:S,rdev:g,size:O,uid:T}=t;this.#g=e,this.#y=s,this.#k=r,this.#b=n,this.#h=o,this.#m=a,this.#C=h,this.#f=l,this.#i=c,this.#c=u,this.#o=f,this.#n=d,this.#F=m,this.#d=p,this.#s=S,this.#u=g,this.#e=O,this.#a=T;let F=Fi(t);this.#r=this.#r&de|F|Gs,F!==ct&&F!==wt&&F!==jt&&(this.#r|=me)}#W=[];#q=!1;#J(t){this.#q=!1;let e=this.#W.slice();this.#W.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}let s=this.children();if(this.calledReaddir()){let n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#W.push(t),this.#q)return;this.#q=!0;let r=this.fullpath();this.#t.readdir(r,{withFileTypes:!0},(n,o)=>{if(n)this.#M(n.code),s.provisional=0;else{for(let a of o)this.#N(a,s);this.#$(s)}this.#J(s.slice(0,s.provisional))})}#I;async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();if(this.#I)await this.#I;else{let s=()=>{};this.#I=new Promise(r=>s=r);try{for(let r of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#N(r,t);this.#$(t)}catch(r){this.#M(r.code),t.provisional=0}this.#I=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();try{for(let s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#N(s,t);this.#$(t)}catch(s){this.#M(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#r&Js)return!1;let t=ht&this.#r;return t===ct||t===wt||t===jt}shouldWalk(t,e){return(this.#r&wt)===wt&&!(this.#r&Js)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((Be|qe|dt)&this.#r))try{let t=await this.#t.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#j()}}realpathSync(){if(this.#E)return this.#E;if(!((Be|qe|dt)&this.#r))try{let t=this.#t.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#j()}}[sr](t){if(t===this)return;let e=new Set([]),s=[],r=this;for(;r&&r.parent;)e.add(r),r.#O=s.join(this.sep),r.#v=s.join("/"),r=r.parent,s.push("..");for(r=t;r&&r.parent&&!e.has(r);)r.#O=void 0,r.#v=void 0,r=r.parent}},Ge=class i extends H{sep="\\";splitSep=Aa;constructor(t,e=ct,s,r,n,o,a){super(t,e,s,r,n,o,a)}newChild(t,e=ct,s={}){return new i(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return Ht.win32.parse(t).root}getRoot(t){if(t=Ca(t.toUpperCase()),t===this.root.name)return this.root;for(let[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Vt(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Zs,"$1\\"),t===e}},Je=class i extends H{splitSep="/";sep="/";constructor(t,e=ct,s,r,n,o,a){super(t,e,s,r,n,o,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=ct,s={}){return new i(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}},Ye=class{root;rootPath;roots;cwd;#t;#i;#n;nocase;#s;constructor(t=process.cwd(),e,s,{nocase:r,childrenCacheSize:n=16*1024,fs:o=pe}={}){this.#s=Ks(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Vs.fileURLToPath)(t));let a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new Ue,this.#i=new Ue,this.#n=new Ci(n);let h=a.substring(this.rootPath.length).split(s);if(h.length===1&&!h[0]&&h.pop(),r===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=r,this.root=this.newRoot(this.#s),this.roots[this.rootPath]=this.root;let l=this.root,c=h.length-1,u=e.sep,f=this.rootPath,d=!1;for(let m of h){let p=c--;l=l.child(m,{relative:new Array(p).fill("..").join(u),relativePosix:new Array(p).fill("..").join("/"),fullpath:f+=(d?"":u)+m}),d=!0}this.cwd=l}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){let o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let s=this.#t.get(e);if(s!==void 0)return s;let r=this.cwd.resolve(e).fullpath();return this.#t.set(e,r),r}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){let o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let s=this.#i.get(e);if(s!==void 0)return s;let r=this.cwd.resolve(e).fullpathPosix();return this.#i.set(e,r),r}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t,t=this.cwd);let{withFileTypes:s}=e;if(t.canReaddir()){let r=await t.readdir();return s?r:r.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t,t=this.cwd);let{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(r=>r.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t.withFileTypes,t=this.cwd);let s=await t.readlink();return e?s:s==null?void 0:s.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t.withFileTypes,t=this.cwd);let s=t.readlinkSync();return e?s:s==null?void 0:s.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t.withFileTypes,t=this.cwd);let s=await t.realpath();return e?s:s==null?void 0:s.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t.withFileTypes,t=this.cwd);let s=t.realpathSync();return e?s:s==null?void 0:s.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e,a=[];(!n||n(t))&&a.push(s?t:t.fullpath());let h=new Set,l=(u,f)=>{h.add(u),u.readdirCB((d,m)=>{if(d)return f(d);let p=m.length;if(!p)return f();let S=()=>{--p===0&&f()};for(let g of m)(!n||n(g))&&a.push(s?g:g.fullpath()),r&&g.isSymbolicLink()?g.realpath().then(O=>O!=null&&O.isUnknown()?O.lstat():O).then(O=>O!=null&&O.shouldWalk(h,o)?l(O,S):S()):g.shouldWalk(h,o)?l(g,S):S()},!0)},c=t;return new Promise((u,f)=>{l(c,d=>{if(d)return f(d);u(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e,a=[];(!n||n(t))&&a.push(s?t:t.fullpath());let h=new Set([t]);for(let l of h){let c=l.readdirSync();for(let u of c){(!n||n(u))&&a.push(s?u:u.fullpath());let f=u;if(u.isSymbolicLink()){if(!(r&&(f=u.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(h,o)&&h.add(f)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());let a=new Set([t]);for(let h of a){let l=h.readdirSync();for(let c of l){(!n||n(c))&&(yield s?c:c.fullpath());let u=c;if(c.isSymbolicLink()){if(!(r&&(u=c.realpathSync())))continue;u.isUnknown()&&u.lstatSync()}u.shouldWalk(a,o)&&a.add(u)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e,a=new Dt({objectMode:!0});(!n||n(t))&&a.write(s?t:t.fullpath());let h=new Set,l=[t],c=0,u=()=>{let f=!1;for(;!f;){let d=l.shift();if(!d){c===0&&a.end();return}c++,h.add(d);let m=(S,g,O=!1)=>{if(S)return a.emit("error",S);if(r&&!O){let T=[];for(let F of g)F.isSymbolicLink()&&T.push(F.realpath().then(M=>M!=null&&M.isUnknown()?M.lstat():M));if(T.length){Promise.all(T).then(()=>m(null,g,!0));return}}for(let T of g)T&&(!n||n(T))&&(a.write(s?T:T.fullpath())||(f=!0));c--;for(let T of g){let F=T.realpathCached()||T;F.shouldWalk(h,o)&&l.push(F)}f&&!a.flowing?a.once("drain",u):p||u()},p=!0;d.readdirCB(m,!0),p=!1}};return u(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof H||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e,a=new Dt({objectMode:!0}),h=new Set;(!n||n(t))&&a.write(s?t:t.fullpath());let l=[t],c=0,u=()=>{let f=!1;for(;!f;){let d=l.shift();if(!d){c===0&&a.end();return}c++,h.add(d);let m=d.readdirSync();for(let p of m)(!n||n(p))&&(a.write(s?p:p.fullpath())||(f=!0));c--;for(let p of m){let S=p;if(p.isSymbolicLink()){if(!(r&&(S=p.realpathSync())))continue;S.isUnknown()&&S.lstatSync()}S.shouldWalk(h,o)&&l.push(S)}}f&&!a.flowing&&a.once("drain",u)};return u(),a}chdir(t=this.cwd){let e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[sr](e)}},Vt=class extends Ye{sep="\\";constructor(t=process.cwd(),e={}){let{nocase:s=!0}=e;super(t,Ht.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let r=this.cwd;r;r=r.parent)r.nocase=this.nocase}parseRootPath(t){return Ht.win32.parse(t).root.toUpperCase()}newRoot(t){return new Ge(this.rootPath,wt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}},Kt=class extends Ye{sep="/";constructor(t=process.cwd(),e={}){let{nocase:s=!1}=e;super(t,Ht.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Je(this.rootPath,wt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}},ye=class extends Kt{constructor(t=process.cwd(),e={}){let{nocase:s=!0}=e;super(t,{...e,nocase:s})}},jl=process.platform==="win32"?Ge:Je,rr=process.platform==="win32"?Vt:process.platform==="darwin"?ye:Kt;var nr=require("url");var Ra=i=>i.length>=1,Na=i=>i.length>=1,Zt=class i{#t;#i;#n;length;#s;#a;#c;#u;#h;#o;#e=!0;constructor(t,e,s,r){if(!Ra(t))throw new TypeError("empty pattern list");if(!Na(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#i=e,this.#n=s,this.#s=r,this.#n===0){if(this.isUNC()){let[n,o,a,h,...l]=this.#t,[c,u,f,d,...m]=this.#i;l[0]===""&&(l.shift(),m.shift());let p=[n,o,a,h,""].join("/"),S=[c,u,f,d,""].join("/");this.#t=[p,...l],this.#i=[S,...m],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){let[n,...o]=this.#t,[a,...h]=this.#i;o[0]===""&&(o.shift(),h.shift());let l=n+"/",c=a+"/";this.#t=[l,...o],this.#i=[c,...h],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===U}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#c=this.#c||(this.#n===0?this.isAbsolute()?this.#i[0]+this.#i.slice(1).join("/"):this.#i.join("/"):this.#i.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#a!==void 0?this.#a:this.hasMore()?(this.#a=new i(this.#t,this.#i,this.#n+1,this.#s),this.#a.#o=this.#o,this.#a.#h=this.#h,this.#a.#u=this.#u,this.#a):this.#a=null}isUNC(){let t=this.#t;return this.#h!==void 0?this.#h:this.#h=this.#s==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){let t=this.#t;return this.#u!==void 0?this.#u:this.#u=this.#s==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){let t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){let t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}};var Ma=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",we=class{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:r,noglobstar:n,platform:o=Ma}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];let a={dot:!0,nobrace:e,nocase:s,noext:r,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let h of t){let l=new rt(h,a);for(let c=0;c<l.set.length;c++){let u=l.set[c],f=l.globParts[c],d=new Zt(u,f,0,o),m=new rt(d.globString(),a),p=f[f.length-1]==="**",S=d.isAbsolute();S?this.absolute.push(m):this.relative.push(m),p&&(S?this.absoluteChildren.push(m):this.relativeChildren.push(m))}}}ignored(t){let e=t.fullpath(),s=`${e}/`,r=t.relative()||".",n=`${r}/`;for(let o of this.relative)if(o.match(r)||o.match(n))return!0;for(let o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){let e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(let r of this.relativeChildren)if(r.match(s))return!0;for(let r of this.absoluteChildren)r.match(e);return!1}};var Ai=class i{store;constructor(t=new Map){this.store=t}copy(){return new i(new Map(this.store))}hasWalked(t,e){var s;return(s=this.store.get(t.fullpath()))==null?void 0:s.has(e.globString())}storeWalked(t,e){let s=t.fullpath(),r=this.store.get(s);r?r.add(e.globString()):this.store.set(s,new Set([e.globString()]))}},Pi=class{store=new Map;add(t,e,s){let r=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?r:r&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}},Ri=class{store=new Map;add(t,e){if(!t.canReaddir())return;let s=this.store.get(t);s?s.find(r=>r.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){let e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}},Se=class i{hasWalkedCache;matches=new Pi;subwalks=new Ri;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ai}processPatterns(t,e){this.patterns=e;let s=e.map(r=>[t,r]);for(let[r,n]of s){this.hasWalkedCache.storeWalked(r,n);let o=n.root(),a=n.isAbsolute()&&this.opts.absolute!==!1;if(o){r=r.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let u=n.rest();if(u)n=u;else{this.matches.add(r,!0,!1);continue}}if(r.isENOENT())continue;let h,l,c=!1;for(;typeof(h=n.pattern())=="string"&&(l=n.rest());)r=r.resolve(h),n=l,c=!0;if(h=n.pattern(),l=n.rest(),c){if(this.hasWalkedCache.hasWalked(r,n))continue;this.hasWalkedCache.storeWalked(r,n)}if(typeof h=="string"){let u=h===".."||h===""||h===".";this.matches.add(r.resolve(h),a,u);continue}else if(h===U){(!r.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(r,n);let u=l==null?void 0:l.pattern(),f=l==null?void 0:l.rest();if(!l||(u===""||u===".")&&!f)this.matches.add(r,a,u===""||u===".");else if(u===".."){let d=r.parent||r;f?this.hasWalkedCache.hasWalked(d,f)||this.subwalks.add(d,f):this.matches.add(d,a,!0)}}else h instanceof RegExp&&this.subwalks.add(r,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new i(this.opts,this.hasWalkedCache)}filterEntries(t,e){let s=this.subwalks.get(t),r=this.child();for(let n of e)for(let o of s){let a=o.isAbsolute(),h=o.pattern(),l=o.rest();h===U?r.testGlobstar(n,o,l,a):h instanceof RegExp?r.testRegExp(n,h,l,a):r.testString(n,h,l,a)}return r}testGlobstar(t,e,s,r){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,r,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){let n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),r);else if(n===".."){let o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),r)}}testRegExp(t,e,s,r){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,r,!1))}testString(t,e,s,r){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,r,!1))}};var _a=(i,t)=>typeof i=="string"?new we([i],t):Array.isArray(i)?new we(i,t):i,He=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#i;#n;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#n=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#i=_a(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#s(t){var e,s;return this.seen.has(t)||!!((s=(e=this.#i)==null?void 0:e.ignored)!=null&&s.call(e,t))}#a(t){var e,s;return!!((s=(e=this.#i)==null?void 0:e.childrenIgnored)!=null&&s.call(e,t))}pause(){this.paused=!0}resume(){var e;if((e=this.signal)!=null&&e.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){var e;(e=this.signal)!=null&&e.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}let r=t.isUnknown()||this.opts.stat;return this.matchCheckTest(r?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#s(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}let r=t.isUnknown()||this.opts.stat;return this.matchCheckTest(r?t.lstatSync():t,e)}matchFinish(t,e){if(this.#s(t))return;let s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);let r=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){let n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+r)}else{let n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+r:"."+r)}}async match(t,e,s){let r=await this.matchCheck(t,s);r&&this.matchFinish(r,e)}matchSync(t,e,s){let r=this.matchCheckSync(t,s);r&&this.matchFinish(r,e)}walkCB(t,e,s){var r;(r=this.signal)!=null&&r.aborted&&s(),this.walkCB2(t,e,new Se(this.opts),s)}walkCB2(t,e,s,r){var a;if(this.#a(t))return r();if((a=this.signal)!=null&&a.aborted&&r(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,r));return}s.processPatterns(t,e);let n=1,o=()=>{--n===0&&r()};for(let[h,l,c]of s.matches.entries())this.#s(h)||(n++,this.match(h,l,c).then(()=>o()));for(let h of s.subwalkTargets()){if(this.maxDepth!==1/0&&h.depth()>=this.maxDepth)continue;n++;let l=h.readdirCached();h.calledReaddir()?this.walkCB3(h,l,s,o):h.readdirCB((c,u)=>this.walkCB3(h,u,s,o),!0)}o()}walkCB3(t,e,s,r){s=s.filterEntries(t,e);let n=1,o=()=>{--n===0&&r()};for(let[a,h,l]of s.matches.entries())this.#s(a)||(n++,this.match(a,h,l).then(()=>o()));for(let[a,h]of s.subwalks.entries())n++,this.walkCB2(a,h,s.child(),o);o()}walkCBSync(t,e,s){var r;(r=this.signal)!=null&&r.aborted&&s(),this.walkCB2Sync(t,e,new Se(this.opts),s)}walkCB2Sync(t,e,s,r){var a;if(this.#a(t))return r();if((a=this.signal)!=null&&a.aborted&&r(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,r));return}s.processPatterns(t,e);let n=1,o=()=>{--n===0&&r()};for(let[h,l,c]of s.matches.entries())this.#s(h)||this.matchSync(h,l,c);for(let h of s.subwalkTargets()){if(this.maxDepth!==1/0&&h.depth()>=this.maxDepth)continue;n++;let l=h.readdirSync();this.walkCB3Sync(h,l,s,o)}o()}walkCB3Sync(t,e,s,r){s=s.filterEntries(t,e);let n=1,o=()=>{--n===0&&r()};for(let[a,h,l]of s.matches.entries())this.#s(a)||this.matchSync(a,h,l);for(let[a,h]of s.subwalks.entries())n++,this.walkCB2Sync(a,h,s.child(),o);o()}},be=class extends He{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){var t;if((t=this.signal)!=null&&t.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,s)=>{this.walkCB(this.path,this.patterns,()=>{var r;(r=this.signal)!=null&&r.aborted?s(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){var t;if((t=this.signal)!=null&&t.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{var e;if((e=this.signal)!=null&&e.aborted)throw this.signal.reason}),this.matches}},ve=class extends He{results;constructor(t,e,s){super(t,e,s),this.results=new Dt({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};var $a=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",pt=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,nr.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(h=>h.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(h=>h.includes("/")?h:`./**/${h}`)}if(this.pattern=t,this.platform=e.platform||$a,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let h=e.platform==="win32"?Vt:e.platform==="darwin"?ye:e.platform?Kt:rr;this.scurry=new h(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;let s=this.platform==="darwin"||this.platform==="win32",r={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(h=>new rt(h,r)),[o,a]=n.reduce((h,l)=>(h[0].push(...l.set),h[1].push(...l.globParts),h),[[],[]]);this.patterns=o.map((h,l)=>new Zt(h,a[l],0,this.platform))}async walk(){return[...await new be(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new be(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new ve(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new ve(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};var Ni=(i,t={})=>{Array.isArray(i)||(i=[i]);for(let e of i)if(new rt(e,t).hasMagic())return!0;return!1};function Ve(i,t={}){return new pt(i,t).streamSync()}function hr(i,t={}){return new pt(i,t).stream()}function Ke(i,t={}){return new pt(i,t).walkSync()}async function or(i,t={}){return new pt(i,t).walk()}function Ze(i,t={}){return new pt(i,t).iterateSync()}function cr(i,t={}){return new pt(i,t).iterate()}var ja=Ve,La=Object.assign(hr,{sync:Ve}),Ia=Ze,Wa=Object.assign(cr,{sync:Ze}),qa=Object.assign(Ke,{stream:Ve,iterate:Ze}),ar=Object.assign(or,{glob:or,globSync:Ke,sync:qa,globStream:hr,stream:La,globStreamSync:Ve,streamSync:ja,globIterate:cr,iterate:Wa,globIterateSync:Ze,iterateSync:Ia,Glob:pt,hasMagic:Ni,escape:Ut,unescape:ut});ar.glob=ar;var lr=".",ur="**",fr=["node_modules/**",".git/**"],lu=(Date.now()*1e3).toString();var hs=require("path"),pi=zt(uo()),di=zt(fo());var lt;(function(i){i.start="/**",i.nostart="/***",i.delim="*",i.end="*/"})(lt=lt||(lt={}));function Xi(i){return/^\s+$/.test(i)}function po(i){let t=i.match(/\r+$/);return t==null?["",i]:[i.slice(-t[0].length),i.slice(0,-t[0].length)]}function xt(i){let t=i.match(/^\s+/);return t==null?["",i]:[i.slice(0,t[0].length),i.slice(t[0].length)]}function mo(i){return i.split(/\n/)}function go(i={}){return Object.assign({tag:"",name:"",type:"",optional:!1,description:"",problems:[],source:[]},i)}function ts(i={}){return Object.assign({start:"",delimiter:"",postDelimiter:"",tag:"",postTag:"",name:"",postName:"",type:"",postType:"",description:"",end:"",lineEnd:""},i)}var Hc=/^@\S+/;function es({fence:i="```"}={}){let t=Vc(i),e=(s,r)=>t(s)?!r:r;return function(r){let n=[[]],o=!1;for(let a of r)Hc.test(a.tokens.description)&&!o?n.push([a]):n[n.length-1].push(a),o=e(a.tokens.description,o);return n}}function Vc(i){return typeof i=="string"?t=>t.split(i).length%2===0:i}function is({startLine:i=0,markers:t=lt}={}){let e=null,s=i;return function(n){let o=n,a=ts();if([a.lineEnd,o]=po(o),[a.start,o]=xt(o),e===null&&o.startsWith(t.start)&&!o.startsWith(t.nostart)&&(e=[],a.delimiter=o.slice(0,t.start.length),o=o.slice(t.start.length),[a.postDelimiter,o]=xt(o)),e===null)return s++,null;let h=o.trimRight().endsWith(t.end);if(a.delimiter===""&&o.startsWith(t.delim)&&!o.startsWith(t.end)&&(a.delimiter=t.delim,o=o.slice(t.delim.length),[a.postDelimiter,o]=xt(o)),h){let l=o.trimRight();a.end=o.slice(l.length-t.end.length),o=l.slice(0,-t.end.length)}if(a.description=o,e.push({number:s,source:n,tokens:a}),s++,h){let l=e.slice();return e=null,l}return null}}function ss({tokenizers:i}){return function(e){var s;let r=go({source:e});for(let n of i)if(r=n(r),!((s=r.problems[r.problems.length-1])===null||s===void 0)&&s.critical)break;return r}}function ci(){return i=>{let{tokens:t}=i.source[0],e=t.description.match(/\s*(@(\S+))(\s*)/);return e===null?(i.problems.push({code:"spec:tag:prefix",message:'tag should start with "@" symbol',line:i.source[0].number,critical:!0}),i):(t.tag=e[1],t.postTag=e[3],t.description=t.description.slice(e[0].length),i.tag=e[2],i)}}function li(i="compact"){let t=Zc(i);return e=>{let s=0,r=[];for(let[a,{tokens:h}]of e.source.entries()){let l="";if(a===0&&h.description[0]!=="{")return e;for(let c of h.description)if(c==="{"&&s++,c==="}"&&s--,l+=c,s===0)break;if(r.push([h,l]),s===0)break}if(s!==0)return e.problems.push({code:"spec:type:unpaired-curlies",message:"unpaired curlies",line:e.source[0].number,critical:!0}),e;let n=[],o=r[0][0].postDelimiter.length;for(let[a,[h,l]]of r.entries())h.type=l,a>0&&(h.type=h.postDelimiter.slice(o)+l,h.postDelimiter=h.postDelimiter.slice(0,o)),[h.postType,h.description]=xt(h.description.slice(l.length)),n.push(h.type);return n[0]=n[0].slice(1),n[n.length-1]=n[n.length-1].slice(0,-1),e.type=t(n),e}}var Kc=i=>i.trim();function Zc(i){return i==="compact"?t=>t.map(Kc).join(""):i==="preserve"?t=>t.join(`
`):i}var Qc=i=>i&&i.startsWith('"')&&i.endsWith('"');function ui(){let i=(t,{tokens:e},s)=>e.type===""?t:s;return t=>{let{tokens:e}=t.source[t.source.reduce(i,0)],s=e.description.trimLeft(),r=s.split('"');if(r.length>1&&r[0]===""&&r.length%2===1)return t.name=r[1],e.name=`"${r[1]}"`,[e.postName,e.description]=xt(s.slice(e.name.length)),t;let n=0,o="",a=!1,h;for(let c of s){if(n===0&&Xi(c))break;c==="["&&n++,c==="]"&&n--,o+=c}if(n!==0)return t.problems.push({code:"spec:name:unpaired-brackets",message:"unpaired brackets",line:t.source[0].number,critical:!0}),t;let l=o;if(o[0]==="["&&o[o.length-1]==="]"){a=!0,o=o.slice(1,-1);let c=o.split("=");if(o=c[0].trim(),c[1]!==void 0&&(h=c.slice(1).join("=").trim()),o==="")return t.problems.push({code:"spec:name:empty-name",message:"empty name",line:t.source[0].number,critical:!0}),t;if(h==="")return t.problems.push({code:"spec:name:empty-default",message:"empty default value",line:t.source[0].number,critical:!0}),t;if(!Qc(h)&&/=(?!>)/.test(h))return t.problems.push({code:"spec:name:invalid-default",message:"invalid default value syntax",line:t.source[0].number,critical:!0}),t}return t.optional=a,t.name=o,e.name=l,h!==void 0&&(t.default=h),[e.postName,e.description]=xt(s.slice(e.name.length)),t}}function fi(i="compact",t=lt){let e=rs(i);return s=>(s.description=e(s.source,t),s)}function rs(i){return i==="compact"?Xc:i==="preserve"?il:i}function Xc(i,t=lt){return i.map(({tokens:{description:e}})=>e.trim()).filter(e=>e!=="").join(" ")}var tl=(i,{tokens:t},e)=>t.type===""?i:e,el=({tokens:i})=>(i.delimiter===""?i.start:i.postDelimiter.slice(1))+i.description;function il(i,t=lt){if(i.length===0)return"";i[0].tokens.description===""&&i[0].tokens.delimiter===t.start&&(i=i.slice(1));let e=i[i.length-1];return e!==void 0&&e.tokens.description===""&&e.tokens.end.endsWith(t.end)&&(i=i.slice(0,-1)),i=i.slice(i.reduce(tl,0)),i.map(el).join(`
`)}function ns({startLine:i=0,fence:t="```",spacing:e="compact",markers:s=lt,tokenizers:r=[ci(),li(e),ui(),fi(e)]}={}){if(i<0||i%1>0)throw new Error("Invalid startLine");let n=is({startLine:i,markers:s}),o=es({fence:t}),a=ss({tokenizers:r}),h=rs(e);return function(l){let c=[];for(let u of mo(l)){let f=n(u);if(f===null)continue;let d=o(f),m=d.slice(1).map(a);c.push({description:h(d[0],s),tags:m,source:f,problems:m.reduce((p,S)=>p.concat(S.problems),[])})}return c}}function sl(i){return i.start+i.delimiter+i.postDelimiter+i.tag+i.postTag+i.type+i.postType+i.name+i.postName+i.description+i.end+i.lineEnd}function os(){return i=>i.source.map(({tokens:t})=>sl(t)).join(`
`)}var rl={line:0,start:0,delimiter:0,postDelimiter:0,tag:0,postTag:0,name:0,postName:0,type:0,postType:0,description:0,end:0,lineEnd:0};var Ff=Object.keys(rl);function yo(i,t={}){return ns(t)(i)}var Hf=os();var wo=zt(require("assert")),So=async(i,t)=>{let e=(0,hs.resolve)(process.cwd(),i),s=(0,pi.readFileSync)(e,{encoding:"utf-8"}),r=yo(s),n=0,o=0,a=[];for(let h of r)if(h.description.includes("TODO"))if(t)await t(h)?n++:o++;else{let l=nl(h,e);l?(o++,a.push(l)):n++}return{numberOfFailing:o,numberOfPassing:n,issues:a}},nl=(i,t)=>{let e={filePath:t,sourceComment:i.description,lineNumber:i.source[0].number+1},s=i.tags.find(({tag:h})=>h==="due");if(!s)return{...e,failureReason:"date",issue:'Due date not provided in the accepted format Use the JSDoc param "@due YYYY-MM-DD" to provide the due date'};let{doesPass:r,message:n}=ol(s.name);if(!r)return(0,wo.default)(n!==null),{...e,failureReason:"date",issue:n};let o=i.tags.find(({tag:h})=>h==="ticket");return o?al(o.name)?null:{...e,failureReason:"ticket",issue:`Expected valid ticket URL, got ${o.name}`}:{...e,failureReason:"ticket",issue:'Ticket not provided in the accepted format Use the JSDoc param "@ticket https://linktoticket.com" to provide the link to the related work'}},ol=i=>{let t=(0,di.default)(i);if(!t.isValid())return{doesPass:!1,message:`Provided date: "${i}" is unable to be parsed into a readable date`};let e=t.isAfter((0,di.default)());return{doesPass:e,message:e?null:`Provided date: "${i}" is before the given threshold of "${(0,di.default)().format("YYYY-MM-DD")}"`}},al=i=>{try{return new URL(i),!0}catch{return!1}},bo=i=>{let t=(0,hs.resolve)(process.cwd(),i);if((0,pi.statSync)(t).isDirectory())return!0};var hl=async i=>{let{pathToSource:t=lr,fileGlob:e=ur,ignorePatterns:s=fr,todoValidator:r}=i,n=Ke(e,{ignore:s,root:t}),o=0,a=0,h=0,l=[];for(let c of n){if(o++,bo(c))continue;let{numberOfFailing:u,numberOfPassing:f,issues:d}=await So(c,r);a+=u,h+=f,l.push(...d)}return{numberOfFilesChecked:o,totalNumberOfFailing:a,totalNumberOfPassing:h,allIssues:l}};0&&(module.exports={check});
